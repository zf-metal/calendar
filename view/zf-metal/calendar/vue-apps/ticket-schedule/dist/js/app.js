(function(e){function t(t){for(var a,s,o=t[0],c=t[1],l=t[2],d=0,v=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&v.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(v.length)v.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0aeb":function(e,t,n){},"0dda":function(e,t,n){},1568:function(e,t,n){},"1e57":function(e,t,n){"use strict";var a=n("3244"),r=n.n(a);r.a},"24ac":function(e,t,n){},"296e":function(e,t,n){},"29c7":function(e,t,n){},3244:function(e,t,n){},"3f5d":function(e,t,n){},4453:function(e,t,n){},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="4678"},4901:function(e,t,n){"use strict";var a=n("3f5d"),r=n.n(a);r.a},"4ffc":function(e,t,n){"use strict";var a=n("0aeb"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("calendars")],1)},i=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("loading"),n("error-snackbar"),n("v-navigation-drawer",{attrs:{persistent:"","mini-variant":e.miniVariant,clipped:e.clipped,"enable-resize-watcher":"",fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("panel")],1),n("v-toolbar",{attrs:{app:"","clipped-left":e.clipped}},[n("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",{domProps:{textContent:e._s(e.title)}}),n("day-select",{model:{value:e.getDate,callback:function(t){e.getDate=t},expression:"getDate"}}),n("day-show",{model:{value:e.getDate,callback:function(t){e.getDate=t},expression:"getDate"}}),n("v-spacer"),n("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[n("select-size"),n("select-start")],1),n("v-btn",{attrs:{icon:"",href:"/"}},[n("v-icon",[e._v("home")])],1)],1),n("v-content",[n("div",{staticClass:"zfc-main-container"},[n("table",{staticClass:"table-bordered table-striped table-responsive zfc-header-table",style:e.getStyleHeaderFix},[n("thead",[n("tr",[n("th",{staticClass:"zfc-column-hours"}),e._l(e.getVisibleCalendars,(function(t){return n("th",{key:t.id,staticClass:"zfc-column-calendar",class:{outOfService:t.outOfService}},[n("v-flex",[n("v-toolbar",{staticClass:"pa-0 ma-0",attrs:{dense:"",color:"blue-grey",dark:""}},[n("v-toolbar-title",[e._v(e._s(t.name))]),n("v-spacer"),n("oof",{attrs:{enable:t.outOfService}}),n("v-btn",{staticClass:"ma-0 pa-0",attrs:{small:"",dark:"",icon:""},on:{click:function(n){return e.showMap(t.id,t.name)}}},[n("v-icon",[e._v("map")])],1)],1)],1)],1)}))],2)])]),n("div",{ref:"zfcCalendars",staticClass:"zfc-calendars",on:{scroll:e.handleCalendarScroll}},[n("table",{staticClass:"table-bordered table-striped table-responsive zfc-td"},[n("tbody",[e._l(e.getHours,(function(t){return n("tr",{key:e.getDate+t},[n("td",{staticClass:"zfc-column-hours"},[e._v(e._s(t))]),e._l(e.getVisibleCalendars,(function(a){return n("calendarTd",{key:e.getDate+a.id+t,attrs:{ki:e.getDate+a.id+t,calendarId:a.id,name:a.name,user:a.user,outOfService:a.outOfService,date:e.getDate,hour:t,isNextDay:!1,day:e.getDay,cellHeight:e.cellHeight}})}))],2)})),n("tr",{staticStyle:{height:"3px"}},[n("th",{staticClass:"zfc-column-hours",staticStyle:{"background-color":"#0c0c0c"}}),e._l(e.getVisibleCalendars,(function(e){return n("td",{key:+e.id+"_nd",staticStyle:{"background-color":"#0c0c0c"}})}))],2),e._l(e.getNextHours,(function(t){return n("tr",{key:e.getNextDate+t},[n("td",{staticClass:"zfc-column-hours"},[e._v(e._s(t))]),e._l(e.getVisibleCalendars,(function(a){return n("calendarTd",{key:e.getNextDate+a.id+t,attrs:{ki:e.getNextDate+a.id+t,calendarId:a.id,name:a.name,user:a.user,outOfService:a.outOfService,date:e.getNextDate,hour:t,isNextDay:!0,day:e.getNextDay,cellHeight:e.cellHeight}})}))],2)}))],2)])]),n("modal",{attrs:{title:e.getModalFormTitle,showModal:e.showModalForm,"btn-close":!1},on:{close:e.closeModalForm}},[e.eventSelected?n("form-event",{attrs:{calendars:e.getCalendars,index:e.eventIndexSelected},on:{remove:e.removeEvent},model:{value:e.eventSelected,callback:function(t){e.eventSelected=t},expression:"eventSelected"}}):e._e()],1),n("modal",{attrs:{title:"Eventos del Servicio",showModal:e.showModalServiceEvents,"btn-close":!0,fullscreen:!0},on:{close:e.closeModalServiceEvents}},[e.showModalServiceEvents?n("service-events"):e._e()],1),n("modal",{attrs:{title:"Mapa: "+e.calendarName,showModal:e.showModalMap,"btn-close":!0},on:{close:function(t){e.showModalMap=!1}}},[n("maps",{attrs:{calendarId:e.calendarId,calendarName:e.calendarName}})],1)],1)])],1)},o=[],c=n("5530"),l=n("2f62"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("close")}}},[n("v-dialog",{attrs:{"max-width":"800",persistent:"",fullscreen:e.fullscreen},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[e.btnclose?n("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.$emit("close")}}},[n("v-icon",[e._v("close")])],1):e._e(),n("v-toolbar-title",[e._v(e._s(e.title))])],1),n("v-card-text",{staticClass:"text-lg-center text-xs-center pa-1"},[e._t("default")],2)],1)],1)],1)},d=[],v={name:"modal",props:{showModal:Boolean,modalId:String,modalClass:String,modalSize:String,title:String,btnclose:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!1}},data:function(){return{}},methods:{closeModal:function(){this.$emit("close")}}},f=v,m=(n("808d"),n("2877")),p=Object(m["a"])(f,u,d,!1,null,"5b3adbeb",null),h=p.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoading?n("div",{staticClass:"load-bar"},[n("v-progress-linear",{staticClass:"pa-0 ma-0",attrs:{indeterminate:!0}})],1):e._e()},b=[],E=(n("d3b7"),n("d4ec")),y=n("bee2"),_=n("bc3a"),S=n.n(_),C=30,x=6e4,O=S.a.create({baseURL:"/zfmc/api/",timeout:x,headers:{accept:"application/json"}}),j=O;O.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),O.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var D=function(){function e(t){Object(E["a"])(this,e),this.entity=t,this.axios=S.a,this.axiosInstance=O}return Object(y["a"])(e,[{key:"setHeader",value:function(e){O.defaults.headers.common[e.key]=e.value,O.defaults.headers.post["Content-Type"]="application/json"}},{key:"fetchAll",value:function(){return O.get(this.entity)}},{key:"fetch",value:function(e){return O.get(this.entity+"/"+e)}},{key:"fetchFilters",value:function(e){return O.get(this.entity+e)}},{key:"create",value:function(e){return O.post(this.entity,e)}},{key:"update",value:function(e,t){return O.put(this.entity+"/"+e,t)}},{key:"delete",value:function(e){return O.delete(this.entity+"/"+e)}},{key:"request",value:function(e,t,n){var a=null;switch(e){case"GET":a=S.a.get(t,{params:n});break;case"POST":a=S.a.post(t,n);break;case"PUT":a=S.a.put(t,n);break;case"DELETE":a=S.a.delete(t,n);break;default:a=S.a.get(t,{params:n});break}return a}}]),e}(),T=D,k={name:"loading",props:[],computed:Object(c["a"])(Object(c["a"])({},Object(l["c"])(["getLoading"])),{},{isLoading:function(){return!!this.getLoading}}),methods:Object(c["a"])({},Object(l["b"])(["loadingPlus","loadingLess"])),mounted:function(){var e=this;j.interceptors.request.use((function(t){return e.loadingPlus(),t})),j.interceptors.response.use((function(t){return e.loadingLess(),t}),(function(t){return e.loadingLess(),Promise.reject(t)}))}},w=k,M=(n("f9c6"),Object(m["a"])(w,g,b,!1,null,"78a05eed",null)),I=M.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-snackbar",{attrs:{top:""},model:{value:e.getShowError,callback:function(t){e.getShowError=t},expression:"getShowError"}},[e._v(" "+e._s(e.getTextError)+" "),n("v-btn",{attrs:{color:"pink",flat:""},on:{click:e.hideError}},[e._v(" Cerrar ")])],1)},R=[],L={name:"ErrorSnackbar",props:[],components:{},created:function(){},methods:Object(c["a"])({},Object(l["b"])(["hideError"])),computed:Object(c["a"])({},Object(l["c"])(["getShowError","getTextError"]))},A=L,H=Object(m["a"])(A,N,R,!1,null,"354fe746",null),F=H.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-tabs",{attrs:{color:"grey lighten-4"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("v-tab",[n("v-icon",[e._v("event")])],1),n("v-tab",[n("v-icon",[e._v("assignment_ind")])],1),n("v-tab",[n("v-icon",[e._v("search")])],1),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("v-container",{staticClass:"pa-1",attrs:{fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("filter-hour")],1),n("v-flex",{attrs:{xs12:""}},[n("filter-string")],1),n("v-flex",{attrs:{xs12:""}},[n("filterZone")],1),n("v-flex",{attrs:{xs12:""}},[n("filter-category")],1)],1)],1)],1),n("v-card",{attrs:{flat:""}},[n("drop",{on:{drop:e.handleDrop}},[n("div",{staticClass:"zfc-panel-preevents pt-1",staticStyle:{"min-height":"350px"}},e._l(e.getPreEventsFiltered,(function(e,t){return n("preEvent",{key:e.id,attrs:{preEvent:e,index:t}})})),1)]),e.hasMorePreEvents?n("v-flex",{staticClass:"text-xs-center"},[n("v-btn",{on:{click:e.incrementSize}},[e._v("Mostrar 10 mas")])],1):e._e()],1)],1),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("filter-calendars")],1)],1),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("service-search")],1)],1)],1)],1)},P=[],$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("drag",{attrs:{"transfer-data":{event:e.preEvent,index:e.index,op:"push"}}},[n("v-card",{staticClass:"mt-4 zfc-preevent",class:{"zfc-preevent-selected":e.eventIdSelected==e.preEvent.id},on:{click:function(t){return e.selectEvent(e.preEvent)}}},[n("v-card-text",{staticClass:"pa-1 cursorPointer white--text blue-grey darken-4"},[n("span",{staticClass:"text-xs-left"},[e._v(e._s(e.preEvent.id)+". "+e._s(e.preEvent.title)+" ")]),n("keep",{attrs:{enable:e.getKeep}}),n("fav",{attrs:{preference:e.getFav}}),n("coop",{attrs:{enable:e.coopEnable,link:e.coopLink,count:e.coopCount}}),n("v-spacer"),n("span",{staticClass:"pt-1",staticStyle:{padding:"1px"}},[e._v(" "+e._s(e.getDistance)+" ")])],1),n("v-card-text",{staticClass:"pe-card-text"},[n("table",{staticClass:"table table-hover white"},[n("tbody",[n("tr",{directives:[{name:"tippy",rawName:"v-tippy",value:{allowTitleHTML:!0,dynamicTitle:!0,arrow:!0,placement:"right",performance:!0,flip:!1,followCursor:!1,hideOnClick:!0,trigger:"click",popperOptions:{modifiers:{hide:{enabled:!1},preventOverflow:{enabled:!1}}}},expression:"{\n         allowTitleHTML: true,\n         dynamicTitle:true,\n         arrow:true,\n         placement:'right',\n         performance:true,\n         flip:false,\n         followCursor: false,\n         hideOnClick: true,\n         trigger: 'click',\n         popperOptions: { modifiers: { hide: { enabled: false }, preventOverflow: { enabled: false}}}\n    }"}],staticClass:"cursorHelp",attrs:{title:e.preEvent.serviceDescription}},[n("td",[n("i",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top"},expression:"{\n                                            dynamicTitle:true,\n                                            arrow:true,\n                                            performance:true,\n                                            placement:'top'\n                                          }"}],staticClass:"material-icons",staticStyle:{"vertical-align":"bottom"},attrs:{title:"Cliente"}},[e._v("account_box")])]),n("td",{staticClass:"caption"},[e._v(e._s(e.getCliente))])]),n("tr",[n("td",[n("i",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top"},expression:"{\n                                            dynamicTitle:true,\n                                            arrow:true,\n                                            performance:true,\n                                            placement:'top'\n                                          }"}],staticClass:"material-icons",staticStyle:{"vertical-align":"bottom"},attrs:{title:"Sucursal"}},[e._v("business")])]),n("td",{staticClass:"caption"},[e._v(e._s(e.getBranchOffice))])]),n("tr",[n("td",[n("i",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top"},expression:"{\n                                            dynamicTitle:true,\n                                            arrow:true,\n                                            performance:true,\n                                            placement:'top'\n                                          }"}],staticClass:"material-icons",staticStyle:{"vertical-align":"bottom"},attrs:{title:"Dirección"}},[e._v("my_location")])]),n("td",{staticClass:"caption"},[e._v(e._s(e.getLocation))])]),n("tr",[n("td",{staticClass:"pa-1 pr-0",style:e.getSucColor},[n("v-icon",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top"},expression:"{\n                                            dynamicTitle:true,\n                                            arrow:true,\n                                            performance:true,\n                                            placement:'top'\n                                          }"}],style:e.getSucColor,attrs:{small:"",title:"Zona"}},[e._v("location_on ")])],1),n("td",{staticClass:"pa-1"},[e._v(e._s(e.getZone))])]),n("tr",[n("td",[n("i",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top"},expression:"{\n                                            dynamicTitle:true,\n                                            arrow:true,\n                                            performance:true,\n                                            placement:'top'\n                                          }"}],staticClass:"material-icons",staticStyle:{"vertical-align":"bottom"},attrs:{title:"Rango de fechas para asignación"}},[e._v("date_range")])]),n("td",{staticClass:"caption"},[e._v(" "+e._s(e.preEvent.dateFrom)+" - "+e._s(e.preEvent.dateTo)+" ")])]),n("tr",[n("td",[n("i",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top"},expression:"{\n                                            dynamicTitle:true,\n                                            arrow:true,\n                                            performance:true,\n                                            placement:'top'\n                                          }"}],staticClass:"material-icons",staticStyle:{"vertical-align":"bottom"},attrs:{title:"Días habilitados de asignación"}},[e._v("today")])]),n("td",{staticClass:"caption"},[n("availabilityDay",{attrs:{data:e.getAvailability}})],1)]),n("tr",[n("td",[n("i",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top"},expression:"{\n                                            dynamicTitle:true,\n                                            arrow:true,\n                                            performance:true,\n                                            placement:'top'\n                                          }"}],staticClass:"material-icons",staticStyle:{"vertical-align":"bottom"},attrs:{title:"Duración y horarios habilitados de asignación"}},[e._v("hourglass_full")])]),n("td",{staticClass:"caption"},[n("span",[e._v(e._s(e.preEvent.duration)+" Min - ")]),e._v(" [ "),n("availabilityTime",{attrs:{data:e.getAvailability}}),e._v(" ] ")],1)])])])])],1)],1)},B=[],V=(n("b0c0"),n("9911"),n("df76")),Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{margin:"0 auto",display:"inline-block"}},[e.getEspecificDays?n("div",e._l(e.getEspecificDays,(function(t,a){return n("span",{key:a,staticClass:"especificDays"},[e._v(" "+e._s(t.description)+" ")])})),0):e._e(),e.getEspecificDays?e._e():n("table",{staticClass:"daysTable"},[n("td",{class:e.getDayClass(1)},[e._v("Lun")]),n("td",{class:e.getDayClass(2)},[e._v("Mar")]),n("td",{class:e.getDayClass(3)},[e._v("Mie")]),n("td",{class:e.getDayClass(4)},[e._v("Jue")]),n("td",{class:e.getDayClass(5)},[e._v("Vie")]),n("td",{class:e.getDayClass(6)},[e._v("Sab")]),n("td",{class:e.getDayClass(7)},[e._v("Dom")])])])},Z=[],G={name:"availabilityDay",props:["data"],components:{},created:function(){},methods:{getDayClass:function(e){return void 0!=this.data&&1==this.data.days[e]?"dayOk":"dayNo"}},computed:{getEspecificDays:function(){return void 0!=this.data&&void 0!=this.data.especificDays&&this.data.especificDays},getDays:function(){return void 0!=this.data&&void 0!=this.data.days&&this.data.days}}},U=G,W=(n("d5fe"),Object(m["a"])(U,Y,Z,!1,null,"604d5c6f",null)),q=W.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e.getFrom&&e.getTo?n("span",[e._v(e._s(e.getFrom)+" - "+e._s(e.getTo))]):e.getFrom?n("span",[e._v(e._s(e.getFrom))]):e._e(),e.getFrom&&e.getFrom2?n("span",[e._v(" & ")]):e._e(),e.getFrom2&&e.getTo2?n("span",[e._v(e._s(e.getFrom2)+" - "+e._s(e.getTo2))]):e.getFrom2?n("span",[e._v(e._s(e.getFrom2))]):e._e()])},J=[],Q={name:"availabilityTime",props:["data"],components:{},created:function(){},methods:{},computed:{getFrom:function(){return void 0!=this.data&&void 0!=this.data.timeRange&&void 0!=this.data.timeRange.from&&this.data.timeRange.from},getTo:function(){return void 0!=this.data&&void 0!=this.data.timeRange&&void 0!=this.data.timeRange.to&&this.data.timeRange.to},getFrom2:function(){return void 0!=this.data&&void 0!=this.data.timeRange2&&void 0!=this.data.timeRange2.from&&this.data.timeRange2.from},getTo2:function(){return void 0!=this.data&&void 0!=this.data.timeRange2&&void 0!=this.data.timeRange2.to&&this.data.timeRange2.to}}},X=Q,ee=Object(m["a"])(X,K,J,!1,null,null,null),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.enable?n("v-btn",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top",flip:!0,interactive:!0,animation:"scale"},expression:"{\n                        dynamicTitle:true,\n                        arrow:true,\n                        performance:true,\n                        placement:'top',\n                        flip:true,\n                        interactive: true,\n                         animation: 'scale'\n                    }"}],staticClass:"ma-0",attrs:{small:"",dark:"",icon:"",title:e.getTitle},on:{click:e.goFilterCoop}},[n("v-icon",{attrs:{color:e.getColor}},[e._v(" group ")])],1):e._e()},ae=[],re=(n("a9e3"),{name:"coop",props:{enable:Boolean,count:Number,link:Number},methods:{goFilterCoop:function(){this.link==this.filterCoop?this.$store.commit("SET_FILTER_COOP",null):this.$store.commit("SET_FILTER_COOP",this.link)}},computed:Object(c["a"])(Object(c["a"])({},Object(l["d"])(["filterCoop"])),{},{getTitle:function(){return"Visita Cooperativa link: "+this.link},getColor:function(){return this.link==this.filterCoop?"yellow":"white"}})}),ie=re,se=Object(m["a"])(ie,ne,ae,!1,null,null,null),oe=se.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.enable?n("v-btn",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top",flip:!0,interactive:!0,animation:"scale"},expression:"{\n                        dynamicTitle:true,\n                        arrow:true,\n                        performance:true,\n                        placement:'top',\n                        flip:true,\n                        interactive: true,\n                         animation: 'scale'\n                    }"}],staticClass:"ma-0",attrs:{small:"",dark:"",icon:"",title:e.getTitle}},[n("v-icon",[e._v(" lock ")])],1):e._e()},le=[],ue={name:"keep",props:{enable:Boolean},computed:{getTitle:function(){return"Mantener Técnico"}}},de=ue,ve=Object(m["a"])(de,ce,le,!1,null,null,null),fe=ve.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.hasFav?n("v-btn",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top",flip:!0,interactive:!0,animation:"scale"},expression:"{\n                        dynamicTitle:true,\n                        arrow:true,\n                        performance:true,\n                        placement:'top',\n                        flip:true,\n                        interactive: true,\n                        animation: 'scale'\n                    }"}],staticClass:"ma-0",class:e.textColor,attrs:{small:"",icon:"",title:e.getTitle}},[n("v-icon",{on:{click:e.goFav}},[e._v(" face ")])],1):e._e()},pe=[],he={name:"fav",props:{preference:Object,textColor:{type:String,default:"white--text"}},methods:{goFav:function(){}},computed:{hasFav:function(){return!(!this.preference||!(this.preference.pref1||this.preference.pref2||this.preference.pref3))},getTitle:function(){return"Tecnicos Preferidos: "+this.getNamePref1+" "+this.getNamePref2+" "+this.getNamePref3},getNamePref1:function(){return this.preference&&this.preference.pref1&&this.preference.pref1.name?this.preference.pref1.name:""},getNamePref2:function(){return this.preference&&this.preference.pref2&&this.preference.pref2.name?this.preference.pref2.name:""},getNamePref3:function(){return this.preference&&this.preference.pref3&&this.preference.pref3.name?this.preference.pref3.name:""}}},ge=he,be=Object(m["a"])(ge,me,pe,!1,null,null,null),Ee=be.exports,ye={name:"PreEvent",props:["preEvent","index"],components:{Drag:V["Drag"],availabilityDay:q,availabilityTime:te,coop:oe,keep:fe,fav:Ee},methods:Object(c["a"])({},Object(l["b"])(["selectEvent"])),computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["d"])(["eventIdSelected"])),Object(l["c"])(["getZoneBgColor","getZoneColor","getEventStateBgColor","getEventTypeIcon","getDistanceFromEventSelected"])),{},{getMainClass:function(){return this.eventIdSelected==this.preEvent.id?"zfc-preevent-selected":""},getDistance:function(){var e=this.getDistanceFromEventSelected(this.preEvent.lat,this.preEvent.lng);return e&&this.eventIdSelected!=this.preEvent.id?e+"Km":""},getAvailability:function(){return this.preEvent.config&&this.preEvent.config.availability?this.preEvent.config.availability:null},getKeep:function(){return!!(this.preEvent.config&&this.preEvent.config.preference&&this.preEvent.config.preference.keep)&&this.preEvent.config.preference.keep},getFav:function(){return!(!this.preEvent.config||!this.preEvent.config.preference)&&this.preEvent.config.preference},coopEnable:function(){return!!this.preEvent.link},coopLink:function(){return this.preEvent.link?this.preEvent.link:null},coopCount:function(){return null},getPriority:function(){return this.preEvent.priority},getCliente:function(){return void 0!=this.preEvent.client?this.preEvent.client:""},getBranchOffice:function(){return void 0!=this.preEvent.branchOffice?this.preEvent.branchOffice:""},getLocation:function(){return void 0!=this.preEvent.location?this.preEvent.location:""},getZone:function(){return void 0!=this.preEvent.zone?this.preEvent.zone.name:""},getSucColor:function(){return void 0!=this.preEvent.zone&&void 0!=this.preEvent.zone.id?"background-color:"+this.getZoneBgColor(this.preEvent.zone.id)+"; color: "+this.getZoneColor(this.preEvent.zone.id):""}})},_e=ye,Se=(n("a3c7"),Object(m["a"])(_e,$,B,!1,null,"feaad80e",null)),Ce=Se.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-select",{staticClass:"pa-0",attrs:{items:e.getItemZones,"hide-details":"",clearable:"",placeholder:"Filtro por zona","prepend-icon":"filter_list"},on:{change:e.changeFilterZone,"click:clear":e.updateFilterOnClear},model:{value:e.zoneId,callback:function(t){e.zoneId=t},expression:"zoneId"}})},Oe=[],je={name:"filterZone",props:[],components:{},data:function(){return{zoneId:null}},created:function(){},methods:{updateFilterOnClear:function(){this.$store.commit("SET_FILTER_ZONE",null)},changeFilterZone:function(){this.$store.commit("SET_FILTER_ZONE",this.zoneId)}},computed:Object(c["a"])(Object(c["a"])({},Object(l["c"])(["getZones","getPreEventsByZone"])),{},{getItemZones:function(){var e=[];for(var t in this.getZones){var n=this.getZones[t];e.push({value:n.id,text:n.name+" ("+this.getPreEventsByZone(n.id).length+")"})}return e}})},De=je,Te=Object(m["a"])(De,xe,Oe,!1,null,"05eb412c",null),ke=Te.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-text-field",{staticClass:"pa-0",attrs:{placeholder:"Filtrar por cliente/dirección",clearable:"","hide-details":"","prepend-icon":"search"},on:{keyup:e.changeFilterString,"click:clear":e.updateFilterOnClear},model:{value:e.filterString,callback:function(t){e.filterString=t},expression:"filterString"}})},Me=[],Ie=function(){var e=0;return function(t,n){clearTimeout(e),e=setTimeout(t,n)}}(),Ne=Ie,Re={name:"filterString",data:function(){return{filterString:""}},methods:{updateFilterOnClear:function(){console.log("update",this.filterString),this.$store.commit("SET_FILTER_STRING","")},changeFilterString:function(){var e=this;Ne((function(){("string"===typeof e.filterString||e.filterString instanceof String)&&e.$store.commit("SET_FILTER_STRING",e.filterString.toLowerCase())}),1e3)}},computed:{}},Le=Re,Ae=Object(m["a"])(Le,we,Me,!1,null,"37feae16",null),He=Ae.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{staticClass:"mt-2",attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs6:""}},[n("v-select",{staticClass:"pa-0",attrs:{items:e.hours,"hide-details":"",placeholder:"Desde","prepend-icon":"watch",clearable:""},on:{change:e.changeFilterHours,"click:clear":e.updateFilterOnClear},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1),n("v-flex",{attrs:{xs6:""}},[n("v-select",{staticClass:"pa-0",attrs:{items:e.hours,"hide-details":"",placeholder:"Hasta","prepend-icon":"watch",clearable:""},on:{change:e.changeFilterHours,"click:clear":e.updateFilterOnClear},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1)],1)},ze=[],Pe={name:"filterHours",props:[],components:{},data:function(){return{hours:[{value:"00:00",text:"00:00"},{value:"01:00",text:"01:00"},{value:"02:00",text:"02:00"},{value:"03:00",text:"03:00"},{value:"04:00",text:"04:00"},{value:"05:00",text:"05:00"},{value:"06:00",text:"06:00"},{value:"07:00",text:"07:00"},{value:"08:00",text:"08:00"},{value:"09:00",text:"09:00"},{value:"10:00",text:"10:00"},{value:"11:00",text:"11:00"},{value:"12:00",text:"12:00"},{value:"13:00",text:"13:00"},{value:"14:00",text:"14:00"},{value:"15:00",text:"15:00"},{value:"16:00",text:"16:00"},{value:"17:00",text:"17:00"},{value:"18:00",text:"18:00"},{value:"19:00",text:"19:00"},{value:"20:00",text:"20:00"},{value:"21:00",text:"21:00"},{value:"22:00",text:"22:00"},{value:"23:00",text:"23:00"},{value:"24:00",text:"24:00"}],from:null,to:null}},created:function(){},methods:{updateFilterOnClear:function(){this.$store.commit("SET_FILTER_HOURS",{from:null,to:null})},changeFilterHours:function(){this.$store.commit("SET_FILTER_HOURS",{from:this.from,to:this.to})}},computed:Object(c["a"])({},Object(l["c"])([]))},$e=Pe,Be=Object(m["a"])($e,Fe,ze,!1,null,"1a65ee4d",null),Ve=Be.exports,Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h4",[e._v("Filtro por Calendarios")]),n("v-btn",{staticClass:"btn btn-sm",on:{click:e.all}},[e._v("Todos")]),n("v-btn",{staticClass:"btn btn-sm",on:{click:e.neither}},[e._v("Ninguno")]),n("filterGroupCalendar"),e.hasCalendars?e._l(e.getCalendars,(function(t,a){return n("check-calendar",{key:a,attrs:{index:a,name:t.name,id:t.id,hidden:e.getCalendars[a].hidden}})})):e._e()],2)},Ze=[],Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"active"}],attrs:{type:"checkbox",name:e.id},domProps:{checked:Array.isArray(e.active)?e._i(e.active,null)>-1:e.active},on:{change:[function(t){var n=e.active,a=t.target,r=!!a.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);a.checked?s<0&&(e.active=n.concat([i])):s>-1&&(e.active=n.slice(0,s).concat(n.slice(s+1)))}else e.active=r},e.toggleCalendar]}}),n("label",[e._v(e._s(e.name))])])},Ue=[],We={name:"checkCalendar",props:["index","id","name","hidden"],components:{},data:function(){return{active:!0}},watch:{hidden:function(e){this.active=1!=e}},computed:Object(c["a"])({},Object(l["c"])(["getCalendars"])),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["showCalendar","hideCalendar"])),{},{toggleCalendar:function(){this.hidden?this.$store.commit("SHOW_CALENDAR",this.index):this.$store.commit("HIDE_CALENDAR",this.index)}})},qe=We,Ke=Object(m["a"])(qe,Ge,Ue,!1,null,"65df28c4",null),Je=Ke.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-select",{staticClass:"pa-0",attrs:{items:e.getItems,"prepend-icon":"filter_list"},on:{change:e.changeFilterGroup},model:{value:e.groupId,callback:function(t){e.groupId=t},expression:"groupId"}})},Xe=[],et=(n("7db0"),n("4160"),n("159b"),{name:"filterGroupCalendar",props:[],components:{},data:function(){return{groupId:""}},created:function(){},watch:{calendarGroupSelected:function(e){this.groupId=e}},methods:{setVisibleCalendarByGroup:function(e){this.$store.commit("SET_CALENDAR_GROUP_SELECTED",e);for(var t=0;t<this.calendars.length;t++)this.calendars[t].groups&&this.calendars[t].groups.find((function(t){return t.id==e}))?this.$store.commit("SHOW_CALENDAR",t):this.$store.commit("HIDE_CALENDAR",t)},changeFilterGroup:function(){this.setVisibleCalendarByGroup(this.groupId)}},computed:Object(c["a"])({getItems:function(){var e=[];return this.calendarGroups.length&&this.calendarGroups.forEach((function(t){e.push({value:t.id,text:t.name})})),e}},Object(l["d"])(["calendarGroupSelected","calendarGroups","calendars"]))}),tt=et,nt=Object(m["a"])(tt,Qe,Xe,!1,null,"1a75b2bf",null),at=nt.exports,rt={name:"filterCalendars",props:[],components:{checkCalendar:Je,filterGroupCalendar:at},data:function(){return{zoneId:""}},created:function(){},methods:{all:function(){this.$store.commit("SET_CALENDAR_GROUP_SELECTED","");for(var e=0;e<this.getCalendars.length;++e)this.$store.commit("SHOW_CALENDAR",e)},neither:function(){this.$store.commit("SET_CALENDAR_GROUP_SELECTED","");for(var e=0;e<this.getCalendars.length;++e)this.$store.commit("HIDE_CALENDAR",e)}},computed:Object(c["a"])({},Object(l["c"])(["getCalendars","hasCalendars"]))},it=rt,st=Object(m["a"])(it,Ye,Ze,!1,null,"01a0fe11",null),ot=st.exports,ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-form",{on:{submit:function(t){return t.preventDefault(),e.serviceSearch(t)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.serviceSearch(t)}}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{staticClass:"pa-0",attrs:{placeholder:"Filtrar por ID Servicio",clearable:"","hide-details":"","prepend-icon":"vpn_key"},model:{value:e.serviceId,callback:function(t){e.serviceId=t},expression:"serviceId"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{staticClass:"pa-0",attrs:{placeholder:"Filtrar por Cliente",clearable:"","hide-details":"","prepend-icon":"account_box"},model:{value:e.client,callback:function(t){e.client=t},expression:"client"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{staticClass:"pa-0",attrs:{placeholder:"Filtrar por Sucursal",clearable:"","hide-details":"","prepend-icon":"business"},model:{value:e.branchOffice,callback:function(t){e.branchOffice=t},expression:"branchOffice"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{staticClass:"pa-0",attrs:{placeholder:"Filtrar por Dirección",clearable:"","hide-details":"","prepend-icon":"my_location"},model:{value:e.location,callback:function(t){e.location=t},expression:"location"}})],1),n("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[n("v-btn",{attrs:{color:"primary"},on:{click:e.serviceSearch}},[e._v("Buscar Servicios")])],1)],1),n("v-flex",{attrs:{xs12:""}},[n("service-items",{attrs:{items:e.serviceItems}})],1)],1)},lt=[],ut=n("262e"),dt=n("2caf"),vt=(n("ac1f"),n("5319"),n("ade3")),ft=function(){function e(){Object(E["a"])(this,e),Object(vt["a"])(this,"filters",[]),Object(vt["a"])(this,"limit",void 0),Object(vt["a"])(this,"page",void 0),Object(vt["a"])(this,"orderField",void 0)}return Object(y["a"])(e,[{key:"add",value:function(e,t,n){this.filters.push({key:e,operator:t,value:n})}},{key:"setLimit",value:function(e){this.limit=e}},{key:"setPage",value:function(e){this.page=e}},{key:"orderBy",value:function(e){this.orderField=e}},{key:"getQuery",value:function(){var e="?";return this.filters.forEach((function(t){e+=t.key+"="+t.operator+t.value+"&"})),void 0!=this.orderField&&(e+="orderby="+this.orderField+"&"),void 0!=this.limit&&(e+="limit="+this.limit+"&"),void 0!=this.page&&(e+="page="+this.page),e=e.replace(/&$/,""),e}}]),e}(),mt=function(e){Object(ut["a"])(n,e);var t=Object(dt["a"])(n);function n(){return Object(E["a"])(this,n),t.apply(this,arguments)}return Object(y["a"])(n,[{key:"createEvent",value:function(e){return this.create("",e)}},{key:"updateEvent",value:function(e){return this.update(e.id,e)}},{key:"getActiveEvents",value:function(e,t,n){var a="?calendar=isNotNull&start="+e+"<>"+t+" "+n;return this.fetchFilters(a)}},{key:"getPreEvents",value:function(e,t,n){var a=new ft;return a.add("calendar","isNull",""),a.add("dateFrom","<=",e),a.orderBy("zone"),a.setLimit(t),a.setPage(n),this.fetchFilters(a.getQuery())}},{key:"getServiceEvents",value:function(e,t,n){var a="?service="+e+"&dateFrom="+t+"<>"+n;return this.fetchFilters(a)}},{key:"getEventsByServiceYearMonth",value:function(e,t,n){return this.axiosInstance.get("/events/search/byServiceYearMonth/"+e+"/"+t+"/"+n)}}]),n}(T),pt=mt,ht=function(e){Object(ut["a"])(n,e);var t=Object(dt["a"])(n);function n(){return Object(E["a"])(this,n),t.apply(this,arguments)}return Object(y["a"])(n,[{key:"start",value:function(){return this.request("GET","/zfmc/api/start")}}]),n}(T),gt=ht,bt=function(e){Object(ut["a"])(n,e);var t=Object(dt["a"])(n);function n(){return Object(E["a"])(this,n),t.apply(this,arguments)}return Object(y["a"])(n,[{key:"createCalendar",value:function(e){return this.create("",e)}},{key:"updateCalendar",value:function(e){return this.update(e.id,e)}},{key:"findAll",value:function(){return this.fetchAll()}}]),n}(T),Et=bt,yt=function(e){Object(ut["a"])(n,e);var t=Object(dt["a"])(n);function n(){return Object(E["a"])(this,n),t.apply(this,arguments)}return Object(y["a"])(n,[{key:"createService",value:function(e){return this.create("",e)}},{key:"updateService",value:function(e){return this.update(e.id,e)}},{key:"serviceSearch",value:function(e,t,n,a){var r={id:e,client:t,branchOffice:n,location:a};return this.axios.post("/zfmc/serviceSearch",r,{headers:{"Content-Type":"application/json"}})}}]),n}(T),_t=yt,St=function(e){Object(ut["a"])(n,e);var t=Object(dt["a"])(n);function n(){return Object(E["a"])(this,n),t.apply(this,arguments)}return Object(y["a"])(n,[{key:"findAll",value:function(){return this.fetchAll()}}]),n}(T),Ct=St,xt=new pt("events"),Ot=new gt(""),jt=new Et("calendars"),Dt=new _t("services"),Tt=new Ct("category"),kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:"","grid-list-md":""}},[n("v-data-iterator",{attrs:{items:e.items,pagination:e.pagination,"content-tag":"v-layout",row:"",wrap:""},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"item",fn:function(t){return n("v-flex",{attrs:{xs12:""}},[n("v-card",[n("v-card-title",[n("h4",[e._v(e._s(t.item.id)+" "+e._s(t.item.name))])]),n("v-divider"),n("v-list",{attrs:{dense:"",subheader:""}},[n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-sub-title",[e._v("Cliente")]),t.item.client?n("v-list-tile-title",[e._v(e._s(t.item.client))]):e._e()],1)],1),n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-sub-title",[e._v("Sucursal")]),t.item.branchOffice?n("v-list-tile-title",[e._v(e._s(t.item.branchOffice))]):e._e()],1)],1),n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-sub-title",[e._v("Dirección")]),t.item.location?n("v-list-tile-title",[e._v(e._s(t.item.location))]):e._e()],1)],1),n("v-divider"),n("v-card-text",{staticClass:"text-xs-center pa-0"},[n("v-btn",{attrs:{small:"",color:"info"},on:{click:function(n){return e.showServiceEvents(t.item.id)}}},[e._v("Programación")])],1)],1)],1)],1)}}])})],1)},wt=[],Mt={name:"ServiceItems",props:{items:{type:Array}},data:function(){return{pagination:{rowsPerPage:4}}},components:{},methods:Object(c["a"])({showServiceEvents:function(e){this.clearSelectEvent(),this.selectService(e),this.$store.commit("SET_SHOW_MODAL_SERVICE",!0)}},Object(l["b"])(["selectService","clearSelectEvent"])),computed:Object(c["a"])({},Object(l["c"])([]))},It=Mt,Nt=Object(m["a"])(It,kt,wt,!1,null,"de4743f2",null),Rt=Nt.exports,Lt={name:"ServiceSearch",components:{ServiceItems:Rt},data:function(){return{serviceId:"",client:"",branchOffice:"",location:"",serviceItems:[]}},methods:{serviceSearch:function(){var e=this;Dt.serviceSearch(this.serviceId,this.client,this.branchOffice,this.location).then((function(t){console.log(t.data),e.serviceItems=t.data}))}},computed:{}},At=Lt,Ht=Object(m["a"])(At,ct,lt,!1,null,"022efe9c",null),Ft=Ht.exports,zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-select",{staticClass:"pa-0",attrs:{items:e.getItemByCategories,"hide-details":"",clearable:"",placeholder:"Filtro por rubro","prepend-icon":"filter_list"},on:{change:e.onChange,"click:clear":e.updateFilterOnClear},model:{value:e.categoryId,callback:function(t){e.categoryId=t},expression:"categoryId"}})},Pt=[],$t={name:"filterCategory",props:[],components:{},data:function(){return{categoryId:null}},created:function(){},methods:{updateFilterOnClear:function(){this.$store.commit("SET_FILTER_CATEGORY",null)},onChange:function(){this.$store.commit("SET_FILTER_CATEGORY",this.categoryId)}},computed:Object(c["a"])(Object(c["a"])({},Object(l["c"])(["getCategories","getPreEventsByCategory"])),{},{getItemByCategories:function(){var e=[];for(var t in this.getCategories){var n=this.getCategories[t];e.push({value:n.id,text:n.name+" ("+this.getPreEventsByCategory(n.id).length+")"})}return e}})},Bt=$t,Vt=Object(m["a"])(Bt,zt,Pt,!1,null,"20dde7c3",null),Yt=Vt.exports,Zt={name:"panel",data:function(){return{showModal:!1,active:null}},components:{FilterCategory:Yt,preEvent:Ce,filterZone:ke,Drop:V["Drop"],filterString:He,filterHour:Ve,filterCalendars:ot,serviceSearch:Ft},computed:Object(c["a"])(Object(c["a"])({},Object(l["d"])(["preEventSize","eventSelected","eventIndexSelected"])),Object(l["c"])(["hasMorePreEvents","getPreEventsFiltered","getZones","getPreEventsByZone","hasCalendars","getCalendars","getServiceSelected","getEventIndexById"])),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["preEventList"])),{},{incrementSize:function(){this.$store.commit("SET_PRE_EVENT_SIZE",this.preEventSize+10)},handleDrop:function(e){var t=this,n=e.event;n.calendar=null,n.state=1,xt.updateEvent(n).then((function(){t.$store.commit("REMOVE_EVENT",t.getEventIndexById(e.event.id)),t.$store.commit("ADD_PRE_EVENT",e.event)})).catch((function(e){console.log("Error On Update Event:",e)}))},showModalZone:function(){this.showModal=!0},closeModalZone:function(){this.showModal=!1}})},Gt=Zt,Ut=(n("c7c6"),Object(m["a"])(Gt,z,P,!1,null,"661e6b62",null)),Wt=Ut.exports,qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{staticClass:"zfc-column-calendar",class:e.getTdClass,style:e.getCalendarTdStyle,attrs:{id:e.ki}},[n("drop",{staticClass:"zfc-dropcell",on:{drop:e.handleDrop}},e._l(e.getEventByTd(e.calendarId,e.start,e.end),(function(e,t){return n("event",{key:t,attrs:{index:t,event:e}})})),1),e.needConfirm?n("dialog-alert",{attrs:{dialog:e.needConfirm,title:e.cTitle,description:e.cDesc},on:{ok:e.onOk,cancel:e.onCancel}}):e._e()],1)},Kt=[],Jt=(n("25f0"),n("c1df")),Qt=n.n(Jt);n("898b");function Xt(){return"#"+(16777215*Math.random()<<0).toString(16)}function en(e,t){var n=Qt()(e);return n.add(t,"minutes"),n.tz("America/Argentina/Buenos_Aires").format("YYYY-MM-DD HH:mm")}function tn(e,t,n,a){var r=6371,i=nn(n-e),s=nn(a-t),o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(nn(e))*Math.cos(nn(n))*Math.sin(s/2)*Math.sin(s/2),c=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)),l=r*c;return l}function nn(e){return e*(Math.PI/180)}var an,rn,sn,on=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Drag",{staticClass:"drago elevation-2",class:e.getMainClass,style:e.getDragStyle,attrs:{"transfer-data":{event:e.event,index:e.index,op:"update"}}},[n("div",{on:{click:function(t){return e.selectEvent(e.event)}}},[n("v-card",{style:e.getDragStyle},[n("v-card-title",{staticClass:"pa-0",style:e.getStateStyle},[n("v-layout",{attrs:{fluid:"",wrap:""}},[n("v-btn",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top",flip:!0,interactive:!0,animation:"scale"},expression:"{dynamicTitle:true, arrow:true, performance:true,\n                             placement:'top', flip:true, interactive: true, animation: 'scale'}"}],staticClass:"ma-0 pl-1",attrs:{small:"",dark:"",icon:"",title:"ID"},on:{click:e.edit,mouseover:e.mouseOver,mouseout:e.mouseOut}},[e._v(" "+e._s(e.event.id)+" ")]),n("v-spacer"),n("span",{staticClass:"pt-1",staticStyle:{padding:"1px"}},[e._v(" "+e._s(e.getDistance)+" ")]),n("v-spacer"),e.event.finalComment?n("comment",{attrs:{comment:e.event.finalComment}}):e._e(),n("keep",{attrs:{enable:e.getKeep}}),n("coop",{attrs:{enable:e.coopEnable,link:e.coopLink,count:e.coopCount}}),n("fav",{attrs:{preference:e.getFav}}),n("event-menu",{on:{edit:e.edit,showServiceEvents:e.showServiceEvents}})],1)],1),n("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{allowTitleHTML:!0,dynamicTitle:!0,arrow:!0,placement:"right",performance:!0,flip:!1,followCursor:!1,hideOnClick:!0,trigger:"click",animateFill:!1,theme:"gradient",popperOptions:{modifiers:{hide:{enabled:!1},preventOverflow:{enabled:!1}}}},expression:"{\n                                 allowTitleHTML: true,\n                                 dynamicTitle:true,\n                                 arrow:true,\n                                 placement:'right',\n                                 performance:true,\n                                 flip:false,\n                                 followCursor: false,\n                                 hideOnClick: true,\n                                 trigger: 'click',\n                                 animateFill: false,\n                                 theme : 'gradient',\n                                 popperOptions: { modifiers: { hide: { enabled: false }, preventOverflow: { enabled: false}}}\n                               }"}],staticClass:"cursorPointer",attrs:{title:e.event.serviceDescription}},[n("v-card-title",{staticClass:"pa-0 ma-0",style:e.getStateStyle},[n("span",{staticClass:"pl-2"},[e._v(e._s(e.getCliente))])]),n("v-card-title",{staticClass:"pa-0 ma-0",style:e.getStateStyle},[n("span",{staticClass:"pl-2  font-weight-thin "},[e._v(e._s(e.getBranchOffice))])])],1),n("v-card-text",{staticClass:"pa-0"},[n("table",{staticClass:"table table-hover white"},[n("tbody",[n("tr",[n("td",{staticClass:"pa-1"},[n("v-icon",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top"},expression:"{\n                                            dynamicTitle:true,\n                                            arrow:true,\n                                            performance:true,\n                                            placement:'top'\n                                          }"}],attrs:{small:"",title:"Dirección"}},[e._v("my_location")])],1),n("td",{staticClass:"caption pa-1"},[e._v(e._s(e.getLocation))])]),n("tr",[n("td",{staticClass:"pa-1 pr-0",style:e.getSucColor},[n("v-icon",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top"},expression:"{\n                                            dynamicTitle:true,\n                                            arrow:true,\n                                            performance:true,\n                                            placement:'top'\n                                          }"}],style:e.getSucColor,attrs:{small:"",title:"Zona"}},[e._v("location_on")])],1),n("td",{staticClass:"pa-1"},[e._v(e._s(e.getZone))])]),n("tr",[n("td",{staticClass:"pa-1"},[n("v-icon",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top"},expression:"{\n                                            dynamicTitle:true,\n                                            arrow:true,\n                                            performance:true,\n                                            placement:'top'\n                                          }"}],attrs:{small:"",title:"Rango de fechas para asignación"}},[e._v("date_range")])],1),n("td",{staticClass:"caption pa-1"},[e._v(" "+e._s(e.event.dateFrom)+" - "+e._s(e.event.dateTo)+" ")])]),n("tr",[n("td",{staticClass:"pa-1"},[n("v-icon",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top"},expression:"{\n                                            dynamicTitle:true,\n                                            arrow:true,\n                                            performance:true,\n                                            placement:'top'\n                                          }"}],attrs:{small:"",title:"Días habilitados de asignación"}},[e._v("today")])],1),n("td",{staticClass:"caption pa-1"},[n("availabilityDay",{attrs:{data:e.getAvailability}})],1)]),n("tr",[n("td",{staticClass:"pa-1"},[n("v-icon",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top"},expression:"{\n                                            dynamicTitle:true,\n                                            arrow:true,\n                                            performance:true,\n                                            placement:'top'\n                                          }"}],attrs:{small:"",title:"Duración y horarios habilitados de asignación"}},[e._v("hourglass_full")])],1),n("td",{staticClass:"caption pa-1"},[n("span",[e._v(e._s(e.event.duration)+" Min - ")]),e._v(" [ "),n("availabilityTime",{attrs:{data:e.getAvailability}}),e._v(" ] ")],1)])])])])],1)],1)])},cn=[],ln=(n("1276"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top",flip:!0,interactive:!0,animation:"scale"},expression:"{\n                        dynamicTitle:true,\n                        arrow:true,\n                        performance:true,\n                        placement:'top',\n                        flip:true,\n                        interactive: true,\n                         animation: 'scale'\n                    }"}],staticClass:"ma-0",attrs:{small:"",dark:"",icon:"",title:e.comment}},[n("v-icon",[e._v(" feedback ")])],1)}),un=[],dn={name:"comment",props:{comment:String}},vn=dn,fn=Object(m["a"])(vn,ln,un,!1,null,null,null),mn=fn.exports,pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{bottom:"",left:""}},[n("v-btn",{staticClass:"ma-0",attrs:{slot:"activator",dark:"",icon:"",small:""},slot:"activator"},[n("v-icon",[e._v("more_vert")])],1),n("v-list",[n("v-list-tile",{on:{click:function(t){return e.$emit("edit")}}},[n("v-list-tile-title",[e._v("Editar")])],1),n("v-list-tile",{on:{click:function(t){return e.$emit("showServiceEvents")}}},[n("v-list-tile-title",[e._v("Servicio")])],1)],1)],1)},hn=[],gn={name:"EventMenu"},bn=gn,En=Object(m["a"])(bn,pn,hn,!1,null,null,null),yn=En.exports,_n={name:"event",props:["index","event"],components:{Drag:V["Drag"],availabilityDay:q,availabilityTime:te,coop:oe,keep:fe,fav:Ee,EventMenu:yn,comment:mn},data:function(){return{active:!1}},methods:Object(c["a"])({mouseOver:function(){this.active=!this.active},mouseOut:function(){this.active=!1},edit:function(){this.selectEvent(this.event),this.$store.commit("SET_SHOW_MODAL_FORM",!0)},showServiceEvents:function(){this.selectService(this.event.service),this.event&&this.event.calendar&&this.setCalendarSelected(this.event.calendar),this.event&&this.event.hour&&this.setHourSelected(this.event.hour),this.$store.commit("SET_SHOW_MODAL_SERVICE",!0)}},Object(l["b"])(["selectService","selectEvent","setCalendarSelected","setHourSelected"])),computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["d"])(["eventIdSelected","cellHeight"])),Object(l["c"])(["getEventIndexById","getZoneBgColor","getZoneColor","getEventStateBgColor","getEventStateColor","getEventTypeIcon","getDistanceFromEventSelected","getCoordinate"])),{},{getDistance:function(){var e=this.getDistanceFromEventSelected(this.event.lat,this.event.lng);return e&&this.eventIdSelected!=this.event.id?e+"Km":""},getFrecuencia:function(){return"Mensual"},getAvailability:function(){return this.event.config&&this.event.config.availability?this.event.config.availability:null},getKeep:function(){return!!(this.event.config&&this.event.config.preference&&this.event.config.preference.keep)&&this.event.config.preference.keep},getFav:function(){return!(!this.event.config||!this.event.config.preference)&&this.event.config.preference},coopEnable:function(){return!!this.event.link},coopLink:function(){return this.event.link?this.event.link:null},coopCount:function(){return null},getCliente:function(){return void 0!=this.event.client?this.event.client:""},getLocation:function(){return void 0!=this.event.location?this.event.location:""},getBranchOffice:function(){return void 0!=this.event.branchOffice?this.event.branchOffice:""},getZone:function(){return void 0!=this.event.zone?this.event.zone.name:""},getSucColor:function(){return void 0!=this.event.zone&&void 0!=this.event.zone.id?"background-color:"+this.getZoneBgColor(this.event.zone.id)+"; color: "+this.getZoneColor(this.event.zone.id):""},getMainClass:function(){return this.eventIdSelected==this.event.id?"zfc-event zfc-event-selected elevation-12":"zfc-event"},getDragStyle:function(){return this.active&&this.getHeight<185?"height:185px; z-index:15; top:"+this.getTop:"height:"+this.getHeight+"px; top:"+this.getTop+"px"},getStateStyle:function(){return"background-color:"+this.getEventStateBgColor(this.event.state)+"; color: "+this.getEventStateColor(this.event.state)},getTop:function(){var e=this.event.hour.split(":"),t=parseInt(e[1]);return e[1]>=30&&(t=parseInt(e[1])-30),Math.ceil(t*this.cellHeight/30)},getHeight:function(){var e=this.cellHeight,t=Math.floor(this.event.duration/30),n=this.event.duration%30;return this.event.duration>30&&(e=t*this.cellHeight+Math.ceil(n*this.cellHeight/30)),e}})},Sn=_n,Cn=(n("ceb6"),n("4901"),Object(m["a"])(Sn,on,cn,!1,null,"5e24de08",null)),xn=Cn.exports,On=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v(e._s(e.title))]),n("v-card-text",[e._v(" "+e._s(e.description)+" ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",flat:"flat"},on:{click:e.ok}},[e._v(" Ok ")])],1)],1)],1)},jn=[],Dn={name:"dialogAlert",props:{dialog:{type:Boolean,default:!1},title:String,description:String},mounted:function(){this.show=this.dialog},watch:{dialog:function(){this.show=this.dialog}},data:function(){return{show:!1}},methods:{ok:function(){this.$emit("ok")}}},Tn=Dn,kn=Object(m["a"])(Tn,On,jn,!1,null,null,null),wn=kn.exports,Mn={name:"calnedarTd",props:["calendarId","name","user","outOfService","ki","date","hour","cellHeight","isNextDay","day"],components:{Drop:V["Drop"],event:xn,dialogAlert:wn},data:function(){return{top:0,left:0,upHere:!1,start:null,end:null,needConfirm:!1,cTitle:"",cDesc:""}},mounted:function(){this.start=this.date+" "+this.hour;var e=Qt()(this.start,"YYYY-MM-DD HH:mm");e.add(30,"minutes"),this.end=e.format("YYYY-MM-DD HH:mm")},computed:Object(c["a"])(Object(c["a"])({},Object(l["c"])(["getCalendarSchedule","getPreEventById","getEventByTd","getEventIndexById"])),{},{getCalendarTdStyle:function(){return"height:"+this.cellHeight+"px"},getTdClass:function(){var e=this.getCalendarSchedule(this.calendarId,this.day);return this.outOfService?"tdOutOfService":e&&(e.start||e.end)&&(this.hour>=e.start&&this.hour<e.end||this.hour>=e.start2&&this.hour<e.end2)?1==this.isNextDay?"zfc-hour-active-nd":"zfc-hour-active":1==this.isNextDay?"zfc-hour-inactive-nd":"zfc-hour-inactive"}}),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["removePreEvent","updateEvent","pushEvent"])),{},{handleDrop:function(e){var t=e.event;t.calendar=this.calendarId,t.start=this.date+" "+this.hour,t.end=en(t.start,t.duration),t.hour=this.hour,this.inTime(t)||this.isFav(t)?this.inTime(t)?this.isFav(t)||this.alertFav():this.alertHours():this.alertFavAndHours(),void 0!=e.op&&"push"==e.op&&(this.$store.commit("REMOVE_PRE_EVENTS",this.getPreEventById(t.id)),this.pushEvent(t)),void 0!=e.op&&"update"==e.op&&this.updateEvent({index:this.getEventIndexById(t.id),event:t})},hasFav:function(e){return!!(e.config&&e.config.preference&&(e.config.preference.pref1||e.config.preference.pref2||e.config.preference.pref3))},isFav:function(e){return!this.hasFav(e)||!!(e.config.preference.pref1&&e.config.preference.pref1.id==this.user||e.config.preference.pref2&&e.config.preference.pref2.id==this.user||e.config.preference.pref3&&e.config.preference.pref3.id==this.user)},inTime:function(e){var t=!1;return e.config&&e.config.availability&&(e.config.availability.timeRange&&e.config.availability.timeRange.from&&e.config.availability.timeRange.to&&(e.hour>=e.config.availability.timeRange.from&&e.hour<=e.config.availability.timeRange.to&&(t=!0),e.config.availability.timeRange.from>e.config.availability.timeRange.to&&e.hour>=e.config.availability.timeRange.from&&(t=!0)),e.config.availability.timeRange2&&e.config.availability.timeRange2.from&&e.config.availability.timeRange2.to&&e.hour>=e.config.availability.timeRange2.from&&e.hour<=e.config.availability.timeRange2.to&&(t=!0)),t},alertFavAndHours:function(){this.cTitle="Alerta Horario y Tecnico",this.cDesc="El horario y tecnico destino no concuerda con la configuración de servicio",this.needConfirm=!0},alertFav:function(){this.cTitle="Alerta de Tecnico",this.cDesc="El tecnico destino no concuerda con la configuración de servicio",this.needConfirm=!0},alertHours:function(){this.cTitle="Alerta de Horario",this.cDesc="El horario destino no concuerda con la configuración de servicio",this.needConfirm=!0},onOk:function(){this.needConfirm=!1},onCancel:function(){this.needConfirm=!1}})},In=Mn,Nn=(n("65d3"),Object(m["a"])(In,qt,Kt,!1,null,"7b070872",null)),Rn=Nn.exports,Ln=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.value?n("form",{staticClass:"eventForm",attrs:{method:"POST",name:"EventForm"},on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("v-container",{staticClass:"pt-0",attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("alert",{attrs:{show:e.h.alertShow,msg:e.h.alertMsg,type:e.h.alertType},on:{close:function(t){e.h.alertShow=!1}}}),n("saveStatus",{attrs:{isSaved:e.h.isSaved}})],1)],1),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs4:""}},[n("h5",{staticClass:"caption font-weight-bold"},[e._v("Cliente")]),n("h6",{staticClass:"caption"},[e._v(e._s(e.value.client))])]),n("v-flex",{attrs:{xs4:""}},[n("h5",{staticClass:"caption font-weight-bold"},[e._v("Sucursal")]),n("h6",{staticClass:"caption"},[e._v(e._s(e.value.branchOffice))])]),n("v-flex",{attrs:{xs4:""}},[n("h5",{staticClass:"caption font-weight-bold"},[e._v("Dirección")]),n("h6",{staticClass:"caption"},[e._v(e._s(e.value.location))])]),n("v-flex",{attrs:{xs12:""}},[n("v-divider",{staticClass:"ma-0"})],1)],1),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs4:""}},[n("v-text-field",{ref:"title",attrs:{label:"Titulo","error-messages":e.errors.title},on:{keydown:e.unsaved},model:{value:e.value.title,callback:function(t){e.$set(e.value,"title",t)},expression:"value.title"}})],1),n("v-flex",{attrs:{xs4:""}},[n("v-select",{attrs:{label:"Estado",items:e.eventStates,"item-text":"name","item-value":"id"},on:{change:e.unsaved},model:{value:e.value.state,callback:function(t){e.$set(e.value,"state",t)},expression:"value.state"}})],1),n("v-flex",{attrs:{xs4:""}},[n("v-select",{attrs:{label:"Calendario",items:e.getCalendarsForCombo,"item-text":"name","item-value":"id"},on:{change:e.unsaved},model:{value:e.value.calendar,callback:function(t){e.$set(e.value,"calendar",t)},expression:"value.calendar"}})],1),n("v-flex",{attrs:{xs4:""}},[n("v-menu",{ref:"menuStartDate",attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"}},[n("v-text-field",{ref:"start",attrs:{slot:"activator",label:"Fecha de Inicio",readonly:"",value:e.value.startDate,"error-messages":e.errors.start},on:{keyup:e.refreshEnd,change:e.refreshEnd},slot:"activator",model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}}),n("v-date-picker",{model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1)],1),n("v-flex",{attrs:{xs4:""}},[n("v-menu",{ref:"menuStartTime",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"}},[n("v-text-field",{attrs:{slot:"activator",label:"Hora de Inicio",readonly:""},slot:"activator",model:{value:e.value.hour,callback:function(t){e.$set(e.value,"hour",t)},expression:"value.hour"}}),n("v-time-picker",{attrs:{format:"24hr","full-width":""},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},[n("v-spacer"),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){return e.$refs.menuStartTime.save(e.startTime)}}},[e._v("OK")])],1)],1)],1),n("v-flex",{attrs:{xs4:""}},[n("v-text-field",{ref:"duration",attrs:{"error-messages":e.errors.duration,label:"Duración"},on:{keyup:e.refreshEnd,change:e.refreshEnd},model:{value:e.value.duration,callback:function(t){e.$set(e.value,"duration",t)},expression:"value.duration"}})],1),n("v-flex",{attrs:{xs4:""}},[n("v-text-field",{ref:"end",attrs:{"error-messages":e.errors.end,disabled:!0,label:"Fecha de Fin"},on:{keydown:e.unsaved},model:{value:e.value.end,callback:function(t){e.$set(e.value,"end",t)},expression:"value.end"}})],1),n("v-flex",{attrs:{xs4:""}},[n("v-text-field",{ref:"end",attrs:{disabled:!0,label:"Actualizado"},on:{keydown:e.unsaved},model:{value:e.getUpdatedAt,callback:function(t){e.getUpdatedAt=t},expression:"getUpdatedAt"}})],1),n("v-flex",{attrs:{xs4:""}},[n("v-text-field",{ref:"deliveryNote",attrs:{"error-messages":e.errors.deliveryNote,label:"Remito"},on:{keydown:e.unsaved},model:{value:e.value.deliveryNote,callback:function(t){e.$set(e.value,"deliveryNote",t)},expression:"value.deliveryNote"}})],1),n("v-flex",{attrs:{xs4:""}},[e.value.rescheduledVisit?n("v-text-field",{ref:"rescheduledVisit",attrs:{disabled:"",readonly:"",label:"Visita Reprogramada"},model:{value:e.value.rescheduledVisit,callback:function(t){e.$set(e.value,"rescheduledVisit",t)},expression:"value.rescheduledVisit"}}):e._e()],1),n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{ref:"comments",attrs:{name:"comments",label:"Comentarios","error-messages":e.errors.comments,rows:"2"},on:{keydown:e.unsaved},model:{value:e.value.comments,callback:function(t){e.$set(e.value,"comments",t)},expression:"value.comments"}})],1),e.value.finalComment?n("v-flex",{attrs:{xs12:""}},[n("h5",{staticClass:"caption font-weight-bold text-xs-left"},[e._v("Comentario Final Técnico")]),n("h6",{staticClass:"caption text-xs-left pl-2"},[e._v(e._s(e.value.finalComment))]),n("v-divider",{staticClass:"ma-0"})],1):e._e()],1),n("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[n("v-flex",{staticClass:"text-xs-right pa-0"},[n("v-btn",{staticClass:"text-xs-right",attrs:{flat:"",disabled:e.h.submitInProgress},on:{click:function(t){return e.$store.commit("SET_SHOW_MODAL_FORM",!1)}}},[e._v(" Cerrar ")]),n("v-btn",{staticClass:"text-xs-right",attrs:{disabled:e.h.submitInProgress},on:{click:e.save}},[e._v(" "+e._s(e.h.submitValue)+" ")])],1)],1)],1)],1):n("div",{staticClass:"text-center"},[n("span",[e._v("Sin evento seleccionado")])])},An=[],Hn=(n("99af"),n("2909")),Fn=S.a.create({baseURL:"/zfmc/api/",timeout:6e4,headers:{accept:"application/json"}}),zn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSaved?e._e():n("div",{staticClass:"pull-right"},[n("span",{staticClass:"text-danger fa fa-save"})])},Pn=[],$n={name:"unsaved",props:["isSaved"]},Bn=$n,Vn=Object(m["a"])(Bn,zn,Pn,!1,null,null,null),Yn=Vn.exports,Zn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"alert alert-dismissible",class:e.type},[n("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}},[e._v("×")]),e._v(" "+e._s(e.msg)+" ")]):e._e()},Gn=[],Un={name:"alert",props:["type","msg","show"]},Wn=Un,qn=Object(m["a"])(Wn,Zn,Gn,!1,null,null,null),Kn=qn.exports,Jn=n("7f45"),Qn=n.n(Jn),Xn={name:"form-event",props:["index","value","isSaved","calendars"],components:{saveStatus:Yn,alert:Kn},data:function(){return{errors:[],h:{loading:!1,isSaved:!0,submitInProgress:!1,alertShow:!1,alertMsg:"",alertType:"alert-danger",submitValue:"Guardar",submitClass:"btn-primary"},startDate:"",startTime:"00:00",msjEventMove:""}},mounted:function(){this.value.start&&(this.startDate=this.value.start.substr(0,10)),this.value.hour&&(this.startTime=this.value.hour)},watch:{startDate:function(){this.value.start=this.startDate+" "+this.startTime,this.refreshEnd()},startTime:function(){this.value.hour=this.startTime,this.value.start=this.startDate+" "+this.startTime,this.refreshEnd()}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["d"])(["eventStates"])),Object(l["c"])(["getCalendars","hasCalendars","getEventIndexById"])),{},{getCalendarsForCombo:function(){return[{name:"",id:null}].concat(Object(Hn["a"])(this.getCalendars))},getEvent:function(){return this.value},getUpdatedAt:function(){return Qn()(this.value.updatedAt).utc(!1).format("YYYY-MM-DD HH:mm:ss")}}),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["updateEvent"])),{},{unsaved:function(){this.h.isSaved=!1},refreshEnd:function(){this.value.end=en(this.value.start,this.value.duration),this.unsaved()},iSave:function(){this.h.alertShow=!1,this.h.alertMsg="",this.h.submitValue="Guardando..",this.h.submitClass="btn-warning",this.errors="",this.h.submitInProgress=!0},fSave:function(){this.h.submitValue="Guardar",this.h.submitClass="btn-primary",this.h.submitInProgress=!1},save:function(){this.value.id?this.update():this.create()},setHour:function(){this.value.hour=Qn()(this.value.start).format("HH:mm")},update:function(){var e=this;this.setHour(),this.iSave(),this.$store.commit("LOADING_PLUS"),Fn.put("events/"+this.value.id,this.value).then((function(t){e.fSave(),e.$store.commit("LOADING_LESS"),t.data.item&&t.data.item.rescheduledVisit&&(e.value.rescheduledVisit=t.data.item.rescheduledVisit),e.value.calendar?(e.$store.commit("UPDATE_EVENT",{index:e.getEventIndexById(e.value.id),event:e.value}),e.$store.commit("SET_SHOW_MODAL_FORM",!1)):(e.$store.commit("REMOVE_EVENT",e.getEventIndexById(e.value.id)),e.$store.commit("ADD_PRE_EVENT_UNSHIFT",e.value),e.$store.commit("SET_EVENT_ID_SELECTED",null),e.$store.commit("SET_EVENT_SELECTED",null),e.$store.commit("SET_EVENT_INDEX_SELECTED",null),e.$store.commit("SET_SHOW_MODAL_FORM",!1),e.$emit("closeModal"))})).catch((function(t){e.fSave(),e.h.alertMsg=t.response.data.message,e.h.alertShow=!0,e.errors=t.response.data.errors,e.$store.commit("LOADING_LESS")}))}})},ea=Xn,ta=(n("60ad"),Object(m["a"])(ea,Ln,An,!1,null,"13d9eb8e",null)),na=ta.exports,aa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"map"}},[n("GmapMap",{staticStyle:{width:"580px",height:"250px",margin:"0 auto"},attrs:{center:e.getCenter,zoom:12,"map-type-id":"terrain"}},e._l(e.getEventsByCalendar(e.calendarId),(function(t,a){return n("GmapMarker",{key:a,attrs:{position:e.getPosition(t),clickable:!0,draggable:!0,title:t.start+" - "+t.client},on:{click:function(t){e.center=e.m.position}}})})),1)],1)},ra=[],ia={name:"maps",props:["calendarId","calendarName"],components:{},data:function(){return{markers:[{lat:-25.363,lng:131.044}]}},created:function(){},methods:{getPosition:function(e){return{lat:parseFloat(e.lat),lng:parseFloat(e.lng)}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["c"])(["getEventsByCalendar"])),{},{getCenter:function(){var e=this.getEventsByCalendar(this.calendarId)[0];return void 0!=e?{lat:parseFloat(e.lat),lng:parseFloat(e.lng)}:{lat:-34.6037345,lng:-58.3837591}}})},sa=ia,oa=Object(m["a"])(sa,aa,ra,!1,null,"d1b1e708",null),ca=oa.exports,la=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[n("v-btn",{attrs:{icon:""},on:{click:e.before}},[n("v-icon",[e._v("navigate_before")])],1),n("v-menu",{ref:"menuDate",attrs:{"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-btn",{attrs:{slot:"activator"},slot:"activator"},[e._v(" "+e._s(e.date)+" ")]),n("v-date-picker",{model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),n("v-btn",{attrs:{icon:""},on:{click:e.next}},[n("v-icon",[e._v("navigate_next")])],1)],1)},ua=[],da={name:"DaySelect",props:["value"],data:function(){return{menu:!1,date:"",wdate:""}},created:function(){this.date=this.value,this.wdate=this.date},watch:{date:function(){this.onChange()}},computed:Object(c["a"])(Object(c["a"])({},Object(l["c"])(["getMonthName","getDayName","getNumberOfDayInMonthOrdinal","isHoliday"])),{},{getLoading:function(){return!1}}),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["changeDate","checkOutOfService"])),{},{before:function(){if(0==this.getLoading){var e=Qt()(this.date);e.subtract(1,"day"),this.date=e.tz("America/Argentina/Buenos_Aires").format("YYYY-MM-DD")}},next:function(){if(0==this.getLoading){var e=Qt()(this.date);e.add(1,"day"),this.date=e.tz("America/Argentina/Buenos_Aires").format("YYYY-MM-DD"),console.log(this.date)}},onChange:function(){var e=Qt()(this.date);this.changeDate(e)},getDate:function(){return this.date.tz("America/Argentina/Buenos_Aires").format("YYYY-MM-DD")}})},va=da,fa=(n("a795"),Object(m["a"])(va,la,ua,!1,null,"e76ea59e",null)),ma=fa.exports,pa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar-title",[n("span",{staticClass:"navbar-brand",class:{holiday:e.isHoliday}},[e._v(e._s(e.getNumberOfDayInMonthOrdinal))]),n("span",{staticClass:"navbar-brand",class:{holiday:e.isHoliday}},[e._v(e._s(e.getDayName))]),n("span",{staticClass:"navbar-brand",class:{holiday:e.isHoliday}},[e._v(e._s(e.getMonthName))]),n("span",{staticClass:"navbar-brand"},[n("holiday",{attrs:{enable:e.isHoliday}})],1)])},ha=[],ga=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.enable?n("i",{staticClass:"material-icons pull-right",class:e.getSignalClass,staticStyle:{"font-size":"20px"},attrs:{"data-toggle":"tooltip",title:"Feriado"}},[e._v(" local_cafe ")]):e._e()},ba=[],Ea={name:"holiday",props:{enable:Boolean},computed:{getTitle:function(){return"Feriado"},getSignalClass:function(){return"signal-holiday"}}},ya=Ea,_a=(n("731b"),Object(m["a"])(ya,ga,ba,!1,null,"a526ba14",null)),Sa=_a.exports,Ca={name:"DayShow",props:["value"],components:{holiday:Sa},computed:Object(c["a"])({},Object(l["c"])(["getMonthName","getDayName","getNumberOfDayInMonthOrdinal","isHoliday"]))},xa=Ca,Oa=(n("afb2"),Object(m["a"])(xa,pa,ha,!1,null,"622cf8cc",null)),ja=Oa.exports,Da=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.enable?n("v-btn",{directives:[{name:"tippy",rawName:"v-tippy",value:{dynamicTitle:!0,arrow:!0,performance:!0,placement:"top",flip:!0,interactive:!0,animation:"scale"},expression:"{\n                        dynamicTitle:true,\n                        arrow:true,\n                        performance:true,\n                        placement:'top',\n                        flip:true,\n                        interactive: true,\n                        animation: 'scale'\n                    }"}],staticClass:"ma-1",attrs:{small:"",dark:"",icon:"",title:e.getTitle}},[n("v-icon",{attrs:{color:"amber"}},[e._v(" airplanemode_active ")])],1):e._e()},Ta=[],ka={name:"oof",props:{enable:Boolean},computed:{getTitle:function(){return"Fuera de Servicio"}}},wa=ka,Ma=Object(m["a"])(wa,Da,Ta,!1,null,null,null),Ia=Ma.exports,Na=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ServiceView"},[n("service-detail"),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs3:""}},[n("h4",[e._v("Pendientes "+e._s(e.getPendingCalendarEvents.length))]),n("v-navigation-drawer",{staticClass:"ma-0",attrs:{permanent:"","enable-resize-watcher":"",height:"620"}},[n("div",{staticClass:" pa-1",staticStyle:{"min-height":"350px"}},[n("v-layout",{attrs:{column:""}},e._l(e.getPendingCalendarEvents,(function(e,t){return n("preEvent",{key:"pre"+e.id,attrs:{preEvent:e,index:t}})})),1)],1)])],1),n("v-flex",{attrs:{xs9:""}},[n("mini-calendar",{attrs:{events:e.getCalendarEvents}})],1)],1)],1)},Ra=[],La=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"MiniCalendar"},[n("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[n("v-layout",{attrs:{fluid:"",wrap:"",row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-layout",{attrs:{wrap:"",row:"","justify-space-between":""}},[n("v-flex",{attrs:{lg6:"",xs6:""}},[n("v-layout",{attrs:{wrap:"",row:""}},[n("v-flex",{attrs:{lg4:"",xs4:""}},[n("v-text-field",{ref:"title",attrs:{label:"Año"},on:{change:e.changeDate},model:{value:e.dyear,callback:function(t){e.dyear=t},expression:"dyear"}})],1),n("v-flex",{staticClass:"pr-1",attrs:{lg4:"",xs4:""}},[n("v-select",{attrs:{label:"Mes",items:["01","02","03","04","05","06","07","08","09","10","11","12"]},on:{change:e.changeDate},model:{value:e.dmonth,callback:function(t){e.dmonth=t},expression:"dmonth"}})],1),n("v-flex",{attrs:{lg2:"",xs2:""}},[n("loading-circular")],1)],1)],1),n("v-flex",{attrs:{lg6:"",xs6:""}},[n("v-layout",{attrs:{wrap:"",row:""}},[n("v-flex",{staticClass:"pr-1",attrs:{lg6:"",xs6:""}},[n("v-select",{attrs:{label:"Calendario por Asignar",items:e.getCalendars,"item-text":"name","item-value":"id"},model:{value:e.calendar,callback:function(t){e.calendar=t},expression:"calendar"}})],1),n("v-flex",{staticClass:"pr-1",attrs:{lg6:"",xs6:""}},[n("v-menu",{ref:"menuHour",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"}},[n("v-text-field",{attrs:{slot:"activator",label:"Hora de Inicio por asignar",readonly:""},slot:"activator",model:{value:e.hour,callback:function(t){e.hour=t},expression:"hour"}}),n("v-time-picker",{attrs:{format:"24hr","full-width":""},model:{value:e.hour,callback:function(t){e.hour=t},expression:"hour"}},[n("v-spacer"),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){return e.$refs.menuHour.save(e.hour)}}},[e._v("OK")])],1)],1)],1)],1)],1)],1)],1),n("v-flex",{attrs:{xs12:""}},[n("table",{staticClass:"table-calendar"},[n("thead",[n("tr",e._l(e.days,(function(t){return n("th",{key:"d"+t},[e._v(e._s(t))])})),0)]),n("tbody",e._l(e.getCalendarWeeks,(function(t,a){return n("tr",{key:a},[e._l(e.getRangeDays(t.range),(function(t){return[n("mini-calendar-cell",{key:a+"_"+t,attrs:{day:t,currentMonth:e.isCurrentMonth(t),events:e.getEventsByDay(t)},on:{eventDrop:e.onEventDrop}})]}))],2)})),0)])])],1)],1),n("modal",{attrs:{title:"",showModal:e.getShowCalendarEventModal,btnclose:!0},on:{close:function(t){return e.setShowCalendarEventModal(!1)}}},[e.getCalendarEventSelected?n("form-event",{attrs:{calendars:e.getCalendars,index:-1},model:{value:e.getCalendarEventSelected,callback:function(t){e.getCalendarEventSelected=t},expression:"getCalendarEventSelected"}}):e._e()],1)],1)},Aa=[],Ha=n("b85c"),Fa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{staticClass:"pa-0",class:{"not-current-month":!e.currentMonth}},[n("drop",{staticClass:"zfc-dropcell",attrs:{"fill-height":""},on:{drop:e.handleDrop}},[n("v-layout",{attrs:{"align-content-start":"",wrap:""}},[n("v-flex",{staticClass:"text-xs-right ",attrs:{xs12:""}},[e._v(" "+e._s(e.day.format("DD"))+" ")]),n("v-flex",{attrs:{xs12:""}},e._l(e.events,(function(e,t){return n("mini-event",{key:t,attrs:{index:t,event:e}})})),1)],1)],1)],1)},za=[],Pa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Drag",{attrs:{"transfer-data":{event:e.event,index:e.index,op:"update"}}},[n("div",[n("v-card",{staticClass:"cursorPointer pa-1 white--text pa-0",style:e.getStateStyle},[n("v-card-text",{staticClass:"pa-0"},[n("v-layout",{staticClass:"caption",attrs:{"justify-space-around":"",wrap:""}},[n("v-flex",{staticClass:"text-xs-left",on:{click:e.editCalendarEvent}},[e._v(e._s(e.event.id))]),n("v-flex",{staticClass:"text-xs-right"},[e._v(" "+e._s(e.calendarName))]),n("v-flex",{staticClass:"text-xs-left",attrs:{xs12:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-left"},[e._v(e._s(e.since)+"-"+e._s(e.until))]),n("v-flex",{staticClass:"text-xs-right"},[n("v-icon",{staticStyle:{"font-size":"15px"},attrs:{color:"white"},on:{click:e.copyData}},[e._v("file_copy")])],1)],1)],1)],1)],1)],1)],1)])},$a=[],Ba=function(e,t){return Qt()(e).format(t)},Va=Ba,Ya={name:"MiniEvent",props:{index:Number,event:Object},components:{Drag:V["Drag"]},data:function(){return{active:!1}},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["setCalendarEventSelected","setShowCalendarEventModal","setCalendarSelected","setHourSelected"])),{},{editCalendarEvent:function(){this.setCalendarEventSelected(this.event),this.setShowCalendarEventModal(!0)},copyData:function(){this.event&&this.event.calendar&&this.setCalendarSelected(this.event.calendar),this.event&&this.event.hour&&this.setHourSelected(this.event.hour)}}),computed:Object(c["a"])(Object(c["a"])({},Object(l["c"])(["getCalendarById","getEventStateBgColor","getEventStateColor"])),{},{getStateStyle:function(){return"background-color:"+this.getEventStateBgColor(this.event.state)+"; color: "+this.getEventStateColor(this.event.state)},calendarName:function(){if(this.event.calendar){var e=this.getCalendarById(this.event.calendar);return e.name}return"-"},since:function(){return Va(this.event.start,"HH:mm")},until:function(){return Va(this.event.end,"HH:mm")},hasCalendar:function(){return!!this.event.calendar},getAvailability:function(){return this.event.config&&this.event.config.availability?this.event.config.availability:null}})},Za=Ya,Ga=Object(m["a"])(Za,Pa,$a,!1,null,"84b14e36",null),Ua=Ga.exports,Wa={name:"MiniCalendarCell",props:{day:null,events:{type:Array,default:null},currentMonth:{type:Boolean,default:!1}},components:{MiniEvent:Ua,Drop:V["Drop"]},methods:Object(c["a"])({handleDrop:function(e){var t=e.event,n=this.getHourSelected?this.getHourSelected:"00:00";t.start=this.day.format("Y-MM-DD")+" "+n,t.hour=n,t.end=en(t.start,t.duration),t.calendar=this.getCalendarSelected,this.refreshEvent(t)}},Object(l["b"])(["refreshEvent"])),computed:Object(c["a"])(Object(c["a"])({},Object(l["d"])(["eventSelected"])),Object(l["c"])(["getCalendarSelected","getHourSelected","getEventIndexById"]))},qa=Wa,Ka=(n("4ffc"),Object(m["a"])(qa,Fa,za,!1,null,"3914c503",null)),Ja=Ka.exports,Qa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoading?n("div",{staticClass:"load-circle"},[n("v-progress-circular",{attrs:{size:35,color:"primary",indeterminate:""}})],1):e._e()},Xa=[],er={name:"LoadingCircular",props:[],computed:Object(c["a"])(Object(c["a"])({},Object(l["c"])(["getLoading"])),{},{isLoading:function(){return!!this.getLoading}})},tr=er,nr=Object(m["a"])(tr,Qa,Xa,!1,null,null,null),ar=nr.exports,rr={name:"MiniCalendar",props:{events:{type:Array,default:function(){return[]}}},components:{MiniCalendarCell:Ja,formEvent:na,modal:h,LoadingCircular:ar},data:function(){return{snackbar:!1,eventDroped:null,dyear:null,dmonth:null,days:["Lun","Mar","Mie","Jue","Vie","Sab","Dom"]}},mounted:function(){this.dyear=this.getRealCalendarDate.format("YYYY"),this.dmonth=this.getRealCalendarDate.format("MM")},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["setCalendarEventSelected","setShowCalendarEventModal","setCalendarSelected","setHourSelected","setCalendarDate"])),{},{onEventDrop:function(){},changeDate:function(){this.setCalendarDate(Qt()(this.dyear+this.dmonth,"YYYYMM").tz("America/Argentina/Buenos_Aires").locale("es"))},increaseMonth:function(){this.setCalendarDate(this.getCalendarDate.add(1,"month"))},decreaseMonth:function(){this.setCalendarDate(this.getCalendarDate.subtract(1,"month"))},getRangeDays:function(e){var t,n=[],a=Object(Ha["a"])(e.by("days"));try{for(a.s();!(t=a.n()).done;){var r=t.value;n.push(r)}}catch(i){a.e(i)}finally{a.f()}return n},isCurrentMonth:function(e){return e.format("MM")==this.getRealCalendarDate.format("MM")},getEventsByDay:function(e){for(var t=[],n=0;n<this.events.length;n++){var a=this.events[n];a.start&&a.start.substring(0,10)==e.format("Y-MM-DD")&&t.push(a)}return t}}),computed:Object(c["a"])(Object(c["a"])({calendar:{get:function(){return this.getCalendarSelected},set:function(e){this.setCalendarSelected(e)}},hour:{get:function(){return this.getHourSelected},set:function(e){this.setHourSelected(e)}},currentDate:function(){return this.date.get("date")}},Object(l["d"])({calendarDate:function(e){return e.calendar.calendarDate},months:function(e){return e.calendar.months},date:function(e){return e.dates.date}})),Object(l["c"])(["getShowCalendarEventModal","getCalendarEventSelected","getRealDate","getRealCalendarDate","getCalendarYear","getCalendarWeeks","getCalendars","getCalendarDaysInMonth","getMonthCalendar","getCalendarSelected","getHourSelected"]))},ir=rr,sr=(n("b254"),Object(m["a"])(ir,La,Aa,!1,null,"0b6c278d",null)),or=sr.exports,cr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.serviceSelected?n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{lg3:"",md3:"",sm6:"",xs12:""}},[n("v-list",{attrs:{subheader:""}},[n("v-list-tile",[n("v-list-tile-avatar",[n("v-icon",{staticClass:"primary white--text"},[e._v("account_box")])],1),n("v-list-tile-content",[n("v-list-tile-sub-title",[e._v("Cliente ")]),e.serviceSelected&&e.serviceSelected.client&&e.serviceSelected.client.name?n("v-list-tile-title",[e._v(e._s(e.serviceSelected.client.name))]):e._e()],1)],1)],1)],1),n("v-flex",{attrs:{lg3:"",md3:"",sm6:"",xs12:""}},[n("v-list",{attrs:{subheader:""}},[n("v-list-tile",[n("v-list-tile-avatar",[n("v-icon",{staticClass:"primary white--text"},[e._v("shop")])],1),n("v-list-tile-content",[n("v-list-tile-sub-title",[e._v("Titulo ")]),e.serviceSelected&&e.serviceSelected.name?n("v-list-tile-title",[e._v(e._s(e.serviceSelected.name))]):e._e()],1)],1)],1)],1),n("v-flex",{attrs:{lg3:"",md3:"",sm6:"",xs12:""}},[n("v-list",{attrs:{subheader:""}},[n("v-list-tile",[n("v-list-tile-avatar",[n("v-icon",{staticClass:"primary white--text"},[e._v("location_on")])],1),n("v-list-tile-content",[n("v-list-tile-sub-title",[e._v("Sucursal")]),e.serviceSelected&&e.serviceSelected.branchOffice&&e.serviceSelected.branchOffice.name?n("v-list-tile-title",[e._v(" "+e._s(e.serviceSelected.branchOffice.name))]):e._e()],1)],1)],1)],1),n("v-flex",{attrs:{lg3:"",md3:"",sm6:"",xs12:""}},[n("v-list",{attrs:{subheader:""}},[n("v-list-tile",[n("v-list-tile-avatar",[n("v-icon",{staticClass:"primary white--text"},[e._v("my_location")])],1),n("v-list-tile-content",[n("v-list-tile-sub-title",[e._v(" Dirección")]),e.serviceSelected&&e.serviceSelected.branchOffice&&e.serviceSelected.branchOffice.location?n("v-list-tile-title",[e._v(e._s(e.serviceSelected.branchOffice.location))]):e._e()],1)],1)],1)],1),n("v-flex",{attrs:{xs12:""}},[n("v-divider")],1)],1):e._e()},lr=[],ur={name:"ServiceDetail",data:function(){return{service:null}},components:{},methods:{},computed:Object(c["a"])({},Object(l["d"])(["serviceIdSelected","serviceSelected"]))},dr=ur,vr=Object(m["a"])(dr,cr,lr,!1,null,"8763e472",null),fr=vr.exports,mr={name:"ServiceEvents",props:{},components:{MiniCalendar:or,ServiceDetail:fr,PreEvent:Ce},data:function(){return{preEvents:{},events:[],dateContext:null}},mounted:function(){this.eventList()},watch:{getFrom:function(){this.eventList()}},methods:Object(c["a"])({eventList:function(){var e=this;xt.getEventsByServiceYearMonth(this.getServiceIdSelected,this.getCalendarYear,this.getCalendarMonth).then((function(t){for(var n=[],a=0;a<t.data.length;a++){var r=t.data[a];null!=r.calendar&&(r.hour=Qt()(r.start).tz("America/Argentina/Buenos_Aires").format("HH:mm")),n.push(r)}e.setCalendarEvents(n)}))}},Object(l["b"])(["setCalendarEvents","fetchEventsByServiceYearMonth"])),computed:Object(c["a"])(Object(c["a"])({getFrom:function(){var e=Qt()(this.getCalendarYear+"-"+this.getCalendarMonth+"-01","YYYY-MM-DD");return e.startOf("month")},getTo:function(){var e=this.getFrom.clone();return e.endOf("month")}},Object(l["d"])(["eventSelected"])),Object(l["c"])(["getCalendarEvents","getPendingCalendarEvents","getServiceIdSelected","getCalendarYear","getCalendarMonth","getMonthName","getCalendars"]))},pr=mr,hr=Object(m["a"])(pr,Na,Ra,!1,null,"ad2eb5dc",null),gr=hr.exports,br=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-select",{staticClass:"pl-1",staticStyle:{width:"100px"},attrs:{items:e.items,"prepend-icon":"photo_size_select_large",label:"Tamaño"},on:{change:e.applySize},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}})},Er=[],yr={name:"SelectSize",data:function(){return{size:"60",items:[{value:"15",text:"15"},{value:"30",text:"30"},{value:"60",text:"60"},{value:"90",text:"90"},{value:"120",text:"120"}]}},methods:{applySize:function(){this.$store.commit("SET_CELL_HEIGHT",this.size)}}},_r=yr,Sr=Object(m["a"])(_r,br,Er,!1,null,"479387d6",null),Cr=Sr.exports,xr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-select",{staticClass:"pl-1",staticStyle:{width:"110px"},attrs:{items:e.items,"prepend-icon":"alarm",label:"Horario"},on:{change:e.changeCalendarStart},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}})},Or=[],jr={name:"SelectSize",props:[],components:{},data:function(){return{start:"06:00",items:["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"]}},methods:{changeCalendarStart:function(){this.$store.commit("SET_CALENDAR_START",this.start)}}},Dr=jr,Tr=Object(m["a"])(Dr,xr,Or,!1,null,"478da649",null),kr=Tr.exports,wr={name:"calendars",components:{ServiceEvents:gr,SelectSize:Cr,SelectStart:kr,calendarTd:Rn,modal:h,loading:I,ErrorSnackbar:F,formEvent:na,panel:Wt,maps:ca,DaySelect:ma,DayShow:ja,oof:Ia},data:function(){return{clipped:!1,drawer:!0,fixed:!1,miniVariant:!1,right:!0,rightDrawer:!1,title:"",tds:{},showModal:!1,showModalMap:!1,titleModal:"",calendarId:null,calendarName:null}},created:function(){console.log("v2.0"),this.startList()},watch:{getCalendars:function(){this.checkOutOfService()}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["d"])(["showModalForm","showModalServiceEvents","eventSelected","eventIndexSelected","calendarScroll","cellHeight"])),Object(l["c"])(["isVisibleCalendar","hasCalendars","getCalendars","getVisibleCalendars","getPreEventById","getDate","getNextDate","getNextDay","getDay","getHours","getNextHours"])),{},{getStyleHeaderFix:function(){var e=0-this.calendarScroll.left;return"left: "+e+"px"},getModalFormTitle:function(){return this.eventSelected?this.eventSelected.id+". "+this.eventSelected.title:""}}),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["startList","zoneList","eventStateList","eventTypeList","calendarList","preEventList","pushEvent","checkOutOfService"])),{},{closeModalForm:function(){this.$store.commit("SET_SHOW_MODAL_FORM",!1)},closeModalServiceEvents:function(){this.$store.commit("SET_SHOW_MODAL_SERVICE",!1)},showMap:function(e,t){this.calendarId=e,this.calendarName=t,this.showModalMap=!0},removeEvent:function(){console.log("todo")},handleCalendarScroll:function(e){var t=null;t=void 0!=e.target?e.target:e.srcElement,this.$store.commit("SET_CALENDAR_SCROLL",{top:t.scrollTop,left:t.scrollLeft})}})},Mr=wr,Ir=(n("1e57"),n("de09"),Object(m["a"])(Mr,s,o,!1,null,"2d361b41",null)),Nr=Ir.exports,Rr={name:"App",components:{calendars:Nr},created:function(){}},Lr=Rr,Ar=Object(m["a"])(Lr,r,i,!1,null,null,null),Hr=Ar.exports,Fr=(n("4de4"),n("c740"),n("c975"),n("d81d"),n("fb6a"),n("a434"),n("b680"),n("466d"),"ADD_CALENDAR"),zr="SET_CALENDARS",Pr="HIDE_CALENDAR",$r="SHOW_CALENDAR",Br="SET_EVENTS",Vr="CLEAR_EVENTS",Yr="ADD_EVENT",Zr="REMOVE_EVENT",Gr="UPDATE_EVENT",Ur="SET_CALENDAR_SCROLL",Wr="SET_DATE",qr="SET_EVENT_STATES",Kr="SET_EVENT_TYPES",Jr="SET_ZONES",Qr="HIDE_ZONE",Xr="SHOW_ZONE",ei="SET_CELL_HEIGHT",ti="SET_FILTER_ZONE",ni="SET_FILTER_STRING",ai="SET_EVENT_ID_SELECTED",ri="SET_EVENT_INDEX_SELECTED",ii="SET_EVENT_SELECTED",si="SET_SERVICE_ID_SELECTED",oi="SET_SERVICE_SELECTED",ci="SET_SHOW_MODAL_FORM",li="SET_SHOW_MODAL_SERVICE",ui="SET_CALENDAR_START",di="SET_CALENDAR_GROUPS",vi="SET_CALENDAR_GROUP_SELECTED",fi="SET_FILTER_COOP",mi="SET_FILTER_HOURS",pi="SET_OUTOFSERVICE_CALENDAR",hi="SET_HOLIDAYS",gi="SET_PRE_EVENT_SIZE",bi="SET_PRE_EVENT_FILTERED_SIZE",Ei="PLUS_PRE_EVENT_LIST_PAGE",yi="ADD_PRE_EVENT",_i="ADD_PRE_EVENT_UNSHIFT",Si="SET_PRE_EVENTS",Ci="REMOVE_PRE_EVENTS",xi="CLEAR_PRE_EVENTS",Oi="SET_FILTER_CATEGORY",ji="SET_CATEGORIES",Di={namespaced:!1,state:{date:Qt()().tz("America/Argentina/Buenos_Aires").locale("es"),nextDate:null,weekDays:{1:"Lunes",2:"Martes",3:"Miercoles",4:"Jueves",5:"Viernes",6:"Sabado",7:"Domingo"},months:{1:"Enero",2:"Febrero",3:"Marzo",4:"Abril",5:"Mayo",6:"Junio",7:"Julio",8:"Agosto",9:"Septiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"}},mutations:Object(vt["a"])({},Wr,(function(e,t){e.date=t})),getters:{getRealDate:function(e){return e.date},getDate:function(e){return e.date.format("YYYY-MM-DD")},getDay:function(e){return e.date.isoWeekday()},getNextDateObj:function(e,t){var n=Qn()(t.getDate);return n.add(1,"day"),n},getNextDate:function(e,t){return t.getNextDateObj.format("YYYY-MM-DD")},getNextDay:function(e,t){return t.getNextDateObj.isoWeekday()},getNextTwoDate:function(e,t){var n=Qn()(t.getDate);return n.add(2,"day"),n.format("YYYY-MM-DD")},getYear:function(e){return e.date.format("YYYY")},getMonth:function(e){return e.date.format("MM")},getMonthName:function(e){return e.date.format("MMMM").replace(/\w/,(function(e){return e.toUpperCase()}))},getDayName:function(e){return e.date.format("dddd").replace(/\w/,(function(e){return e.toUpperCase()}))},getNumberOfDayInMonth:function(e){var t=e.date.clone().clone(),n=0,a=0,r=!0;do{n++,t.subtract(1,"week"),a+=1,a>10&&(r=!1,console.log("Loop: getNumberOfDayInMonth"))}while(e.date.month()==t.month()||0==r);return n},getNumberOfDayInMonthOrdinal:function(e,t){switch(t.getNumberOfDayInMonth){case 1:return"1er";case 2:return"2do";case 3:return"3er";case 4:return"4to";case 5:return"5to"}return""},getNextHours:function(e,t){var n=[];if(t.hasCalendars){var a=!0,r=Qt()("00:00","HH:mm"),i=Qt()(t.getNextEnd,"HH:mm"),s=0;while(a)n.push(r.format("HH:mm")),r.add(30,"minutes"),r>=i&&(a=!1),s+=1,s>100&&(a=!1,console.log("Loop: getNextHours"))}return n}}},Ti=(n("45fc"),n("d531")),ki="SET_CALENDAR_DATE",wi="SET_CALENDAR_EVENTS",Mi="SET_CALENDAR_EVENT_SELECTED",Ii="SET_SHOW_CALENDAR_EVENT_MODAL",Ni="SET_CALENDAR_SELECTED",Ri="SET_HOUR_SELECTED",Li=Object(Ti["extendMoment"])(Qt.a),Ai={namespaced:!1,state:{calendarDate:Li().tz("America/Argentina/Buenos_Aires").locale("es"),calendarMonths:["01","02","03","04","05","06","07","08","09","10","11","12"],calendarEvents:[],calendarEventSelected:null,showCalendarEventModal:!1,calendarSelected:null,hourSelected:"00:00"},actions:{setCalendarSelected:function(e,t){var n=e.commit;n(Ni,t)},setHourSelected:function(e,t){var n=e.commit,a=/[012]\d:[0123456]\d/;a.test(t)?n(Ri,t):console.log("Hour format incorrect")},setCalendarEvents:function(e,t){var n=e.commit;n(wi,t)},setCalendarEventSelected:function(e,t){var n=e.commit;n(Mi,t)},setShowCalendarEventModal:function(e,t){var n=e.commit;n(Ii,t)},setCalendarDate:function(e,t){var n=e.commit;n(ki,t)}},mutations:(an={},Object(vt["a"])(an,Ni,(function(e,t){e.calendarSelected=t})),Object(vt["a"])(an,Ri,(function(e,t){e.hourSelected=t})),Object(vt["a"])(an,ki,(function(e,t){e.calendarDate=t})),Object(vt["a"])(an,wi,(function(e,t){e.calendarEvents=t})),Object(vt["a"])(an,Mi,(function(e,t){e.calendarEventSelected=t})),Object(vt["a"])(an,Ii,(function(e,t){e.showCalendarEventModal=t})),an),getters:{getCalendarSelected:function(e){return e.calendarSelected},getHourSelected:function(e){return e.hourSelected},getShowCalendarEventModal:function(e){return e.showCalendarEventModal},getPendingCalendarEvents:function(e){return e.calendarEvents.filter((function(e){return null==e.calendar}))},getCalendarEventSelected:function(e){return e.calendarEventSelected},getCalendarEvents:function(e){return e.calendarEvents},getRealCalendarDate:function(e){return e.calendarDate},getCalendarDate:function(e){return e.calendarDate.format("YYYY-MM-DD")},getCalendarDay:function(e){return e.calendarDate.isoWeekday()},getCalendarYear:function(e){return e.calendarDate.format("YYYY")},getCalendarMonth:function(e){return e.calendarDate.format("MM")},getCalendarDaysInMonth:function(){return null},getCalendarFirstDateOfMonth:function(e){return Li(e.calendarDate).startOf("month")},getCalendarEndDateOfMonth:function(e){return Li(e.calendarDate).endOf("month")},getCalendarMonthRange:function(e,t){return e.calendarDate.range(t.getCalendarFirstDateOfMonth,t.getCalendarEndDateOfMonth)},getCalendarWeeks:function(e,t){var n=[];if(e.calendarDate){var a,r=t.getCalendarMonthRange.by("days"),i=Object(Ha["a"])(r);try{var s=function(){var e=a.value;if(!n.some((function(t){return t.weekNumber==e.week()}))){var t=Li(e).isoWeekday(1),r=Li(e).isoWeekday(7);n.push({weekNumber:e.week(),firstWeekDay:t,lastWeekDay:r,range:Li.range(t,r)})}};for(i.s();!(a=i.n()).done;)s()}catch(o){i.e(o)}finally{i.f()}}return console.log("weeks",n),n},getCalendarNumberOfWeeks:function(e,t){return t.getCalendarWeeks.length}}},Hi="HIDE_ERROR",Fi="SHOW_ERROR",zi="SET_TEXT_ERROR",Pi="LOADING_PLUS",$i="LOADING_LESS",Bi={namespaced:!1,state:{loading:0,showError:0,textError:"error"},actions:{loadingPlus:function(e){var t=e.commit;t(Pi)},loadingLess:function(e){var t=e.commit;t($i)},showError:function(e){var t=e.commit;t(Fi)},hideError:function(e){var t=e.commit;t(Hi)},setTextError:{root:!0,handler:function(e,t){var n=e.commit;n(zi,t),n(Fi)}}},mutations:(rn={},Object(vt["a"])(rn,Fi,(function(e){e.showError=!0})),Object(vt["a"])(rn,Hi,(function(e){e.showError=!1})),Object(vt["a"])(rn,zi,(function(e,t){e.textError=t})),Object(vt["a"])(rn,Pi,(function(e){e.loading++})),Object(vt["a"])(rn,$i,(function(e){e.loading--})),rn),getters:{getLoading:function(e){return e.loading},getShowError:function(e){return e.showError},getTextError:function(e){return e.textError}}},Vi=n("6341"),Yi=n.n(Vi);a["default"].use(l["a"]);var Zi={filterHour:{from:null,to:null},filterCoop:null,filterZone:null,filterString:null,filterCategory:null,calendarStart:"06:00",eventIndexSelected:null,eventIdSelected:null,eventSelected:null,serviceSelected:null,serviceIdSelected:null,showModalForm:!1,showModalServiceEvents:!1,cellHeight:60,calendarPosition:{top:0,left:0},calendarScroll:{top:0,left:0},calendars:[],calendarGroups:[],calendarGroupSelected:null,vcalendars:[],preEvents:[],preEventsByZone:{},events:[],eventStates:[],zones:{},categories:{},holidays:[],eventTypes:[],preEventSize:C,preEventFilteredSize:0,preEventListLimit:500,preEventListPage:1},Gi={getServiceIdSelected:function(e){return e.serviceIdSelected},hasMorePreEvents:function(e){return e.preEventFilteredSize>e.preEventSize},isHoliday:function(e,t){return!(!e.holidays||!e.holidays.find((function(e){return e.date==t.getDate})))},getCalendars:function(e){return e.calendars},getCalendarById:function(e){return function(t){return e.calendars.find((function(e){return e.id==t}))}},getZones:function(e){return e.zones},getCategories:function(e){return e.categories},getDistanceFromEventSelected:function(e){return function(t,n){if(void 0!=e.eventIndexSelected&&void 0!=e.eventSelected.lat&&void 0!=e.eventSelected.lng){var a=e.eventSelected.lat,r=e.eventSelected.lng,i=tn(a,r,t,n);return parseFloat(Math.round(100*i)/100).toFixed(2)}return null}},getEventsByCalendar:function(e){return function(t){return e.events.filter((function(e){return e.calendar==t}))}},getServiceSelected:function(e){return void 0!=e.eventSelected&&null!=e.eventSelected&&void 0!=e.events[e.eventSelected]&&void 0!=e.events[e.eventSelected].serviceDescription?e.events[e.eventSelected].serviceDescription:{}},isVisibleCalendar:function(e){return function(t){var n=e.calendars.find((function(e){return e.id===t}));return void 0==n||1!=n.hidden}},getCalendarSchedule:function(e){return function(t,n){var a=e.calendars.find((function(e){return e.id===t}));return a.schedules.find((function(e){return e.day===n}))}},getVisibleCalendars:function(e){return e.calendars?e.calendars.filter((function(e){return 1!=e.hidden})):[]},hasCalendars:function(e){return void 0!=e.calendars&&e.calendars.length>0},getPreEventIndexById:function(e){return function(t){return e.preEvents.findIndex((function(e){return e.id===t}))}},getPreEventById:function(e){return function(t){return e.preEvents.map((function(e){return e.id})).indexOf(t)}},getPreEventsFiltered:function(e,t){var n=e.preEvents;n||(n=[]),(e.filterZone||e.filterString||e.filterCoop||e.filterHour.from||e.filterHour.to||e.filterCategory)&&(n=e.preEvents.filter((function(t){if(e.filterCoop&&t.link!=e.filterCoop)return!1;if(e.filterCategory&&t.category&&t.category.id&&t.category.id!=e.filterCategory)return!1;if(e.filterCategory&&!t.category)return!1;if(e.filterZone&&t.zone&&t.zone.id&&t.zone.id!=e.filterZone)return!1;if(e.filterZone&&!t.zone)return!1;if(e.filterString&&t.client&&-1==t.client.toLowerCase().indexOf(e.filterString)&&t.location&&-1==t.location.toLowerCase().indexOf(e.filterString)&&t.branchOffice&&-1==t.branchOffice.toLowerCase().indexOf(e.filterString)&&e.filterString!=t.id)return!1;if(e.filterHour.from&&e.filterHour.to){if(Yi()(t,"config.availability.timeRange.from")&&Yi()(t,"config.availability.timeRange.to")&&Yi()(t,"config.availability.timeRange2.from")&&Yi()(t,"config.availability.timeRange2.to")){if((e.filterHour.from>t.config.availability.timeRange.from||e.filterHour.to<t.config.availability.timeRange.to)&&(e.filterHour.from>t.config.availability.timeRange2.from||e.filterHour.to<t.config.availability.timeRange2.to))return!1}else if(Yi()(t,"config.availability.timeRange.from")&&Yi()(t,"config.availability.timeRange.to")){if(t.config.availability.timeRange.from>t.config.availability.timeRange.to&&e.filterHour.from<e.filterHour.to)return!1;if(e.filterHour.from>t.config.availability.timeRange.from||e.filterHour.to<t.config.availability.timeRange.to)return!1}}else if(e.filterHour.from){if(Yi()(t,"config.availability.timeRange.from")&&Yi()(t,"config.availability.timeRange2.from")){if(e.filterHour.from>t.config.availability.timeRange.from&&e.filterHour.from>t.config.availability.timeRange2.from)return!1}else if(Yi()(t,"config.availability.timeRange.from")&&e.filterHour.from>t.config.availability.timeRange.from)return!1}else if(e.filterHour.to)if(Yi()(t,"config.availability.timeRange.to")&&Yi()(t,"config.availability.timeRange2.to")){if(e.filterHour.to<t.config.availability.timeRange.to&&e.filterHour.to<t.config.availability.timeRange2.to)return!1}else if(Yi()(t,"config.availability.timeRange.to")&&e.filterHour.to<t.config.availability.timeRange.to)return!1;return!0})));for(var a=0;a<n.length;a++){var r="5",i="8";if(n[a].config&&n[a].config.availability)if(void 0!=n[a].config.availability.especificDays){for(var s=0;s<n[a].config.availability.especificDays.length;s++)if(void 0!=n[a].config.availability.especificDays[s].day&&void 0!=n[a].config.availability.especificDays[s].ordinal){if(n[a].config.availability.especificDays[s].day==t.getDay&&n[a].config.availability.especificDays[s].ordinal==t.getNumberOfDayInMonth){r="1";break}r="4"}}else if(void 0!=n[a].config.availability.days){r=1==n[a].config.availability.days[t.getDay]?"2":"3";var o=0;for(var c in n[a].config.availability.days)1==n[a].config.availability.days[c]&&o++;i=o.toString()}else r="5";n[a].config&&n[a].config.availability&&n[a].config.availability.timeRange&&n[a].config.availability.timeRange.from?n[a].priority=parseInt(r+""+i+n[a].config.availability.timeRange.from.replace(":","")):n[a].priority=r+""+i+"0000"}return n.sort((function(e,t){return e.priority-t.priority})),e.preEventFilteredSize=n.length,n.slice(0,e.preEventSize)},getPreEventsByZone:function(e){return function(t){return e.preEvents.filter((function(e){return void 0!=e.zone&&void 0!=e.zone.id&&e.zone.id==t}))}},getPreEventsByCategory:function(e){return function(t){return e.preEvents.filter((function(e){return void 0!=e.category&&void 0!=e.category.id&&e.category.id==t}))}},getZoneColor:function(e){return function(t){return void 0!=e.zones[t]&&void 0!=e.zones[t].color?e.zones[t].color:"#000000"}},getZoneBgColor:function(e){return function(t){return void 0!=e.zones[t]&&void 0!=e.zones[t].bgColor?e.zones[t].bgColor:""}},getEventStateById:function(e){return function(t){return e.eventStates.find((function(e){return e.id===t}))}},getEventStateBgColor:function(e,t){return function(e){var n=t.getEventStateById(e);return void 0!=n&&void 0!=n.bgColor&&""!=n.bgColor?n.bgColor:"#7986CB"}},getEventStateColor:function(e,t){return function(e){var n=t.getEventStateById(e);return void 0!=n&&void 0!=n.color&&""!=n.color?n.color:"#FFFFFF"}},getEventTypeById:function(e){return function(t){return e.eventTypes.find((function(e){return e.id===t}))}},getEventTypeIcon:function(e,t){return function(e){var n=t.getEventTypeById(e);return void 0!=n&&void 0!=n.icon&&""!=n.type?n.icon:"all_out"}},getEventIndexById:function(e){return function(t){return e.events.findIndex((function(e){return e.id===t}))}},getEventByTd:function(e){return function(t,n,a){return e.events.filter((function(e){return e.calendar==t&&e.start>=n&&e.start<a}))}},getStart:function(e){return e.calendarStart},getEnd:function(e,t){var n=null;if(t.hasCalendars)for(var a=0;a<e.calendars.length;++a)if(void 0!=e.calendars[a].schedules){var r=e.calendars[a].schedules.find((function(e){return e.day==t.getDay}));void 0!=r&&(void 0!=r.end2&&r.end2>n?n=r.end2:void 0!=r.end&&r.end>n&&(n=r.end))}return null==n&&(n="23:59"),n},getNextStart:function(){var e="00:00";return e},getNextEnd:function(e,t){var n="00:01";if(t.hasCalendars)for(var a=0;a<e.calendars.length;++a)if(void 0!=e.calendars[a].schedules){var r=e.calendars[a].schedules.find((function(e){return e.day==t.getNextDay}));void 0!=r&&void 0!=r.start&&void 0!=r.end&&"00:00"==r.start&&r.end>n&&(n=r.end)}return n},getHours:function(e,t){var n=[];if(t.hasCalendars){var a=!0,r=Qt()(e.calendarStart,"HH:mm");if(!r.isValid())return console.log("GET HOURS - t - Fecha no valida"),n;var i=Qt()("23:59","HH:mm");if(!i.isValid())return console.log("GET HOURS - e - Fecha no valida"),n;var s=0;while(a)n.push(r.format("HH:mm")),r.add(30,"minutes"),r>=i&&(a=!1),s+=1,s>100&&(a=!1,console.log("Loop: getHours"))}return n}},Ui={selectEvent:function(e,t){var n=e.commit,a=e.getters;n(ii,t),n(ai,t.id),n(ri,a.getEventIndexById(t.id))},clearSelectEvent:function(e){var t=e.commit;t(ii,null),t(ai,null),t(ri,null)},selectService:function(e,t){var n=e.commit;n("SET_SERVICE_ID_SELECTED",t),Dt.fetch(t).then((function(e){var t=e.data;t&&t.cliente&&t.cliente.nombre&&(t.client={name:t.cliente.nombre}),t&&t.nombre&&(t.name=t.nombre),t&&t.sucursal&&t.sucursal.nombre&&(t.branchOffice={name:t.sucursal.nombre},t.sucursal.direccion&&(t.branchOffice.location=t.sucursal.direccion)),n("SET_SERVICE_SELECTED",t)}))},checkOutOfService:function(e){for(var t=e.state,n=e.getters,a=e.commit,r=!1,i=0;i<t.calendars.length;i++){var s=t.calendars[i];if(r=!1,s.outOfServices&&s.outOfServices.length>0)for(var o=0;o<s.outOfServices.length;o++){var c=s.outOfServices[o];n.getDate>=c.start&&n.getDate<=c.end&&(r=!0)}a(pi,{index:i,value:r})}},checkCoop:function(e){var t=e.state,n=e.commit;t.filterCoop&&(t.preEvents.find((function(e){return e.link===t.filterCoop}))||n(fi,null))},changeDate:function(e,t){var n=e.commit,a=e.dispatch,r=Qt()(t);if(r.isValid()){var i=new Promise((function(e){e()}));i.then((function(){n(Wr,r),n(Vr),n(xi),n(ii,null),n(ri,null),n(ai,null),n(gi,C)})).then((function(){a("eventList").then(a("preEventList").then(a("checkOutOfService")))})).catch((function(){a("setTextError","Error on changeDate")}))}},getRandomColor:function(){return"#"+(16777215*Math.random()<<0).toString(16)},startList:function(e){var t=e.commit,n=e.dispatch;Ot.start().then((function(e){t(zr,e.data.calendars),t(di,e.data.calendarGroups),t(qr,e.data.eventStates),t(Kr,e.data.eventTypes),t(hi,e.data.holidays),e.data.zones&&n("populateZones",e.data.zones),n("fetchCategories"),n("eventList"),n("preEventList")}))},populateZones:function(e,t){for(var n=e.commit,a={},r=0;r<t.length;r++){var i=t[r];void 0==i.bgColor&&(i.bgColor=Xt()),a[i.id]=i}n("SET_ZONES",a)},fetchCategories:function(e){var t=e.commit;return Tt.findAll().then((function(e){t(ji,e.data)}))},calendarList:function(e){var t=e.commit,n=e.dispatch;jt.findAll().then((function(e){t(zr,e.data)})).catch((function(){n("setTextError","Error on calendarList")}))},preEventList:function(e){var t=e.commit,n=e.getters,a=e.state;return xt.getPreEvents(n.getDate,a.preEventListLimit,a.preEventListPage).then((function(e){t("SET_PRE_EVENTS",e.data)}))},eventList:function(e){var t=e.getters,n=e.commit,a=e.dispatch;return xt.getActiveEvents(t.getDate,t.getNextDate,t.getNextEnd).then((function(e){for(var t=[],a=0;a<e.data.length;a++){var r=e.data[a];null!=r.calendar&&(r.hour=Qt()(r.start).tz("America/Argentina/Buenos_Aires").format("HH:mm"),t.push(r))}n("SET_EVENTS",t)})).catch((function(){a("setTextError","Error on eventList")}))},pushEvent:function(e,t){var n=e.getters,a=e.commit,r=e.dispatch;t.hour=Qt()(t.start).tz("America/Argentina/Buenos_Aires").format("HH:mm"),t.state=2,a("ADD_EVENT",t),xt.updateEvent(t).then((function(e){console.log(e.data),r("checkCoop")})).catch((function(){a("REMOVE_EVENT",n.getEventIndexById(t.id))}))},updateEvent:function(e,t){var n=e.commit,a=e.dispatch,r=t.index,i=t.event;xt.updateEvent(i).then((function(e){var t=e.data.item;t.hour=t.start.match(/[0-2][0-9]:[0-6][0-9]/)[0].split(":")[0],n("UPDATE_EVENT",{index:r,event:t})})).catch((function(){a("setTextError","Error on updateEvent")}))},refreshEvent:function(e,t){var n=e.getters,a=e.commit,r=e.dispatch;xt.updateEvent(t).then((function(){var e=n.getPreEventIndexById(t.id);e&&a("REMOVE_PRE_EVENTS",e);var r=n.getEventIndexById(t.id);r?a("UPDATE_EVENT",{index:r,event:t}):a("ADD_EVENT",t)})).catch((function(){r("setTextError","Error on refreshEvent")}))}},Wi=(sn={},Object(vt["a"])(sn,si,(function(e,t){e.serviceIdSelected=t})),Object(vt["a"])(sn,oi,(function(e,t){e.serviceSelected=t})),Object(vt["a"])(sn,Fr,(function(e,t){e.calendars.push(t)})),Object(vt["a"])(sn,pi,(function(e,t){var n=t.index,r=t.value;a["default"].set(e.calendars[n],"outOfService",r)})),Object(vt["a"])(sn,hi,(function(e,t){e.holidays=t})),Object(vt["a"])(sn,$r,(function(e,t){a["default"].set(e.calendars[t],"hidden",!1)})),Object(vt["a"])(sn,Pr,(function(e,t){a["default"].set(e.calendars[t],"hidden",!0)})),Object(vt["a"])(sn,Xr,(function(e,t){a["default"].set(e.zones[t],"hidden",!1)})),Object(vt["a"])(sn,Qr,(function(e,t){a["default"].set(e.zones[t],"hidden",!0)})),Object(vt["a"])(sn,Jr,(function(e,t){e.zones=t})),Object(vt["a"])(sn,qr,(function(e,t){e.eventStates=t})),Object(vt["a"])(sn,Kr,(function(e,t){e.eventTypes=t})),Object(vt["a"])(sn,zr,(function(e,t){e.calendars=t})),Object(vt["a"])(sn,Si,(function(e,t){e.preEvents.length>0?t.forEach((function(t){-1==e.preEvents.findIndex((function(e){return e.id==t.id}))&&e.preEvents.push(t)})):e.preEvents=t})),Object(vt["a"])(sn,xi,(function(e){e.preEvents=[]})),Object(vt["a"])(sn,Ci,(function(e,t){e.preEvents.splice(t,1)})),Object(vt["a"])(sn,yi,(function(e,t){e.preEvents.push(t)})),Object(vt["a"])(sn,_i,(function(e,t){e.preEvents.unshift(t)})),Object(vt["a"])(sn,ri,(function(e,t){e.eventIndexSelected=t})),Object(vt["a"])(sn,ai,(function(e,t){e.eventIdSelected=t})),Object(vt["a"])(sn,Br,(function(e,t){e.events=t})),Object(vt["a"])(sn,Vr,(function(e){e.events=[]})),Object(vt["a"])(sn,Yr,(function(e,t){e.events.push(t)})),Object(vt["a"])(sn,Zr,(function(e,t){e.events.splice(t,1)})),Object(vt["a"])(sn,Gr,(function(e,t){var n=t.index,r=t.event;a["default"].set(e.events,n,r)})),Object(vt["a"])(sn,Ur,(function(e,t){var n=t.top,a=t.left;e.calendarScroll.top=n,e.calendarScroll.left=a})),Object(vt["a"])(sn,ei,(function(e,t){e.cellHeight=t})),Object(vt["a"])(sn,ti,(function(e,t){e.filterZone=t})),Object(vt["a"])(sn,Oi,(function(e,t){e.filterCategory=t})),Object(vt["a"])(sn,ni,(function(e,t){e.filterString=t})),Object(vt["a"])(sn,ii,(function(e,t){e.eventSelected=t})),Object(vt["a"])(sn,ci,(function(e,t){e.showModalForm=t})),Object(vt["a"])(sn,li,(function(e,t){e.showModalServiceEvents=t})),Object(vt["a"])(sn,ui,(function(e,t){e.calendarStart=t})),Object(vt["a"])(sn,di,(function(e,t){e.calendarGroups=t})),Object(vt["a"])(sn,vi,(function(e,t){e.calendarGroupSelected=t})),Object(vt["a"])(sn,fi,(function(e,t){e.filterCoop=t})),Object(vt["a"])(sn,mi,(function(e,t){e.filterHour.from=t.from,e.filterHour.to=t.to})),Object(vt["a"])(sn,gi,(function(e,t){e.preEventSize=t})),Object(vt["a"])(sn,bi,(function(e,t){e.preEventFilteredSize=t})),Object(vt["a"])(sn,Ei,(function(e){e.preEventListPage++})),Object(vt["a"])(sn,ji,(function(e,t){e.categories=t})),sn),qi=new l["a"].Store({state:Zi,getters:Gi,actions:Ui,mutations:Wi,modules:{dates:Di,calendar:Ai,helpers:Bi}}),Ki=qi,Ji=(n("845f"),n("ce5b")),Qi=n.n(Ji),Xi=(n("bf40"),n("d1e78"),n("f5cd")),es=n.n(Xi),ts=(n("0323"),n("755e"));a["default"].config.productionTip=!1,a["default"].use(Qi.a),a["default"].use(es.a),a["default"].use(ts,{load:{key:"AIzaSyANmeM_tDpt9aV7q7tzDRpb5QelEAMh--o",libraries:"places"}}),new a["default"]({render:function(e){return e(Hr)},store:Ki}).$mount("#app")},"5f89":function(e,t,n){},"60ad":function(e,t,n){"use strict";var a=n("4453"),r=n.n(a);r.a},"65d3":function(e,t,n){"use strict";var a=n("24ac"),r=n.n(a);r.a},"71ae":function(e,t,n){},"731b":function(e,t,n){"use strict";var a=n("71ae"),r=n.n(a);r.a},"808d":function(e,t,n){"use strict";var a=n("296e"),r=n.n(a);r.a},"845f":function(e,t,n){},"8de0":function(e,t,n){},"92da":function(e,t,n){},a3c7:function(e,t,n){"use strict";var a=n("5f89"),r=n.n(a);r.a},a795:function(e,t,n){"use strict";var a=n("8de0"),r=n.n(a);r.a},abf0:function(e,t,n){},afb2:function(e,t,n){"use strict";var a=n("e353"),r=n.n(a);r.a},b05a:function(e,t,n){},b254:function(e,t,n){"use strict";var a=n("b05a"),r=n.n(a);r.a},c7c6:function(e,t,n){"use strict";var a=n("0dda"),r=n.n(a);r.a},ceb6:function(e,t,n){"use strict";var a=n("29c7"),r=n.n(a);r.a},d5fe:function(e,t,n){"use strict";var a=n("abf0"),r=n.n(a);r.a},de09:function(e,t,n){"use strict";var a=n("92da"),r=n.n(a);r.a},e353:function(e,t,n){},f9c6:function(e,t,n){"use strict";var a=n("1568"),r=n.n(a);r.a}});
//# sourceMappingURL=app.js.map